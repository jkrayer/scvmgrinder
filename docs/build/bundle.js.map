{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/ramda/es/internal/_isPlaceholder.js","../../node_modules/ramda/es/internal/_curry1.js","../../node_modules/ramda/es/internal/_curry2.js","../../node_modules/ramda/es/internal/_concat.js","../../node_modules/ramda/es/internal/_arity.js","../../node_modules/ramda/es/internal/_curryN.js","../../node_modules/ramda/es/curryN.js","../../node_modules/ramda/es/internal/_curry3.js","../../node_modules/ramda/es/internal/_isArray.js","../../node_modules/ramda/es/internal/_isTransformer.js","../../node_modules/ramda/es/internal/_dispatchable.js","../../node_modules/ramda/es/internal/_xfBase.js","../../node_modules/ramda/es/internal/_isString.js","../../node_modules/ramda/es/internal/_isArrayLike.js","../../node_modules/ramda/es/internal/_xwrap.js","../../node_modules/ramda/es/bind.js","../../node_modules/ramda/es/internal/_reduce.js","../../node_modules/ramda/es/internal/_xmap.js","../../node_modules/ramda/es/internal/_has.js","../../node_modules/ramda/es/internal/_isArguments.js","../../node_modules/ramda/es/keys.js","../../node_modules/ramda/es/map.js","../../node_modules/ramda/es/internal/_map.js","../../node_modules/ramda/es/internal/_isInteger.js","../../node_modules/ramda/es/nth.js","../../node_modules/ramda/es/prop.js","../../node_modules/ramda/es/reduce.js","../../node_modules/ramda/es/always.js","../../node_modules/ramda/es/ap.js","../../node_modules/ramda/es/isNil.js","../../node_modules/ramda/es/liftN.js","../../node_modules/ramda/es/lift.js","../../node_modules/ramda/es/clamp.js","../../node_modules/ramda/es/type.js","../../node_modules/ramda/es/internal/_pipe.js","../../node_modules/ramda/es/internal/_checkForMethod.js","../../node_modules/ramda/es/slice.js","../../node_modules/ramda/es/tail.js","../../node_modules/ramda/es/pipe.js","../../node_modules/ramda/es/reverse.js","../../node_modules/ramda/es/compose.js","../../node_modules/ramda/es/head.js","../../node_modules/ramda/es/internal/_identity.js","../../node_modules/ramda/es/identity.js","../../node_modules/ramda/es/internal/_arrayFromIterator.js","../../node_modules/ramda/es/internal/_includesWith.js","../../node_modules/ramda/es/internal/_objectIs.js","../../node_modules/ramda/es/internal/_equals.js","../../node_modules/ramda/es/internal/_functionName.js","../../node_modules/ramda/es/equals.js","../../node_modules/ramda/es/internal/_isObject.js","../../node_modules/ramda/es/internal/_xfilter.js","../../node_modules/ramda/es/filter.js","../../node_modules/ramda/es/internal/_filter.js","../../node_modules/ramda/es/or.js","../../node_modules/ramda/es/either.js","../../node_modules/ramda/es/internal/_isFunction.js","../../node_modules/ramda/es/empty.js","../../node_modules/ramda/es/internal/_isTypedArray.js","../../node_modules/ramda/es/internal/_xfind.js","../../node_modules/ramda/es/internal/_reduced.js","../../node_modules/ramda/es/find.js","../../node_modules/ramda/es/ifElse.js","../../node_modules/ramda/es/isEmpty.js","../../node_modules/ramda/es/internal/_createPartialApplicator.js","../../node_modules/ramda/es/partial.js","../../node_modules/ramda/es/propEq.js","../../node_modules/ramda/es/propSatisfies.js","../../node_modules/ramda/es/sortBy.js","../../node_modules/svelte/store/index.mjs","../../src/stores/Settings.js","../../src/components/NewCharacter/Equipment.svelte","../../src/stores/Character.js","../../src/stores/Characters.js","../../src/lib/index.js","../../src/lib/formatCharacterData.js","../../src/components/NewCharacter/CreateCharacter.svelte","../../src/components/Buttons/RollButton.svelte","../../src/components/CharacterSheet/Scores.svelte","../../src/components/SlideIn.svelte","../../src/components/CharacterSheet/Rest.svelte","../../src/components/Omens.svelte","../../src/components/Powers.svelte","../../src/components/ArmorWorn.svelte","../../src/components/WeaponsCarried.svelte","../../src/components/EquipmentTypes/Equipable.svelte","../../src/components/EquipmentTypes/Equipment.svelte","../../src/components/EquipmentTypes/Countable.svelte","../../src/components/Equipment.svelte","../../src/components/CharacterSheet/Incrementer.svelte","../../src/components/HitPoints.svelte","../../src/components/Die.svelte","../../src/components/Initiaitve.svelte","../../src/components/CharacterSheet/Header.svelte","../../src/components/CharacterSheet/CharacterSheet.svelte","../../src/lib/dom.js","../../src/components/Sidebar.svelte","../../src/components/Welcome.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { stylesheet } = info;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            info.rules = {};\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true && boolean_attributes.has(name) ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${style_object[key]};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.46.4' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}","import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}","import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}","/**\n * Private `concat` function to merge two array-like objects.\n *\n * @private\n * @param {Array|Arguments} [set1=[]] An array-like object.\n * @param {Array|Arguments} [set2=[]] An array-like object.\n * @return {Array} A new, merged array.\n * @example\n *\n *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n */\nexport default function _concat(set1, set2) {\n  set1 = set1 || [];\n  set2 = set2 || [];\n  var idx;\n  var len1 = set1.length;\n  var len2 = set2.length;\n  var result = [];\n  idx = 0;\n\n  while (idx < len1) {\n    result[result.length] = set1[idx];\n    idx += 1;\n  }\n\n  idx = 0;\n\n  while (idx < len2) {\n    result[result.length] = set2[idx];\n    idx += 1;\n  }\n\n  return result;\n}","export default function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}","import _arity from \"./_arity.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n\n      combined[combinedIdx] = result;\n\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n\n      combinedIdx += 1;\n    }\n\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n}","import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _curryN from \"./internal/_curryN.js\";\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curryN =\n/*#__PURE__*/\n_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n\n  return _arity(length, _curryN(length, [], fn));\n});\n\nexport default curryN;","import _curry1 from \"./_curry1.js\";\nimport _curry2 from \"./_curry2.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};","export default function _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}","import _isArray from \"./_isArray.js\";\nimport _isTransformer from \"./_isTransformer.js\";\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer created by [transducerCreator] to return a new transformer\n * (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} transducerCreator transducer factory if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\n\nexport default function _dispatchable(methodNames, transducerCreator, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[arguments.length - 1];\n\n    if (!_isArray(obj)) {\n      var idx = 0;\n\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, Array.prototype.slice.call(arguments, 0, -1));\n        }\n\n        idx += 1;\n      }\n\n      if (_isTransformer(obj)) {\n        var transducer = transducerCreator.apply(null, Array.prototype.slice.call(arguments, 0, -1));\n        return transducer(obj);\n      }\n    }\n\n    return fn.apply(this, arguments);\n  };\n}","export default {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};","export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}","import _curry1 from \"./_curry1.js\";\nimport _isArray from \"./_isArray.js\";\nimport _isString from \"./_isString.js\";\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @private\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      _isArrayLike([]); //=> true\n *      _isArrayLike(true); //=> false\n *      _isArrayLike({}); //=> false\n *      _isArrayLike({length: 10}); //=> false\n *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n *      _isArrayLike({nodeType: 1, length: 1}) // => false\n */\n\nvar _isArrayLike =\n/*#__PURE__*/\n_curry1(function isArrayLike(x) {\n  if (_isArray(x)) {\n    return true;\n  }\n\n  if (!x) {\n    return false;\n  }\n\n  if (typeof x !== 'object') {\n    return false;\n  }\n\n  if (_isString(x)) {\n    return false;\n  }\n\n  if (x.length === 0) {\n    return true;\n  }\n\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n\n  return false;\n});\n\nexport default _isArrayLike;","var XWrap =\n/*#__PURE__*/\nfunction () {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n\n  XWrap.prototype['@@transducer/init'] = function () {\n    throw new Error('init not implemented on XWrap');\n  };\n\n  XWrap.prototype['@@transducer/result'] = function (acc) {\n    return acc;\n  };\n\n  XWrap.prototype['@@transducer/step'] = function (acc, x) {\n    return this.f(acc, x);\n  };\n\n  return XWrap;\n}();\n\nexport default function _xwrap(fn) {\n  return new XWrap(fn);\n}","import _arity from \"./internal/_arity.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n * @see R.partial\n * @example\n *\n *      const log = R.bind(console.log, console);\n *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n *      // logs {a: 2}\n * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n */\n\nvar bind =\n/*#__PURE__*/\n_curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function () {\n    return fn.apply(thisObj, arguments);\n  });\n});\n\nexport default bind;","import _isArrayLike from \"./_isArrayLike.js\";\nimport _xwrap from \"./_xwrap.js\";\nimport bind from \"../bind.js\";\n\nfunction _arrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    idx += 1;\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _iterableReduce(xf, acc, iter) {\n  var step = iter.next();\n\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    step = iter.next();\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _methodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\n\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\nexport default function _reduce(fn, acc, list) {\n  if (typeof fn === 'function') {\n    fn = _xwrap(fn);\n  }\n\n  if (_isArrayLike(list)) {\n    return _arrayReduce(fn, acc, list);\n  }\n\n  if (typeof list['fantasy-land/reduce'] === 'function') {\n    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n  }\n\n  if (list[symIterator] != null) {\n    return _iterableReduce(fn, acc, list[symIterator]());\n  }\n\n  if (typeof list.next === 'function') {\n    return _iterableReduce(fn, acc, list);\n  }\n\n  if (typeof list.reduce === 'function') {\n    return _methodReduce(fn, acc, list, 'reduce');\n  }\n\n  throw new TypeError('reduce: list must be array or iterable');\n}","import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XMap =\n/*#__PURE__*/\nfunction () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return XMap;\n}();\n\nvar _xmap =\n/*#__PURE__*/\n_curry2(function _xmap(f, xf) {\n  return new XMap(f, xf);\n});\n\nexport default _xmap;","export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}","import _has from \"./_has.js\";\nvar toString = Object.prototype.toString;\n\nvar _isArguments =\n/*#__PURE__*/\nfunction () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nexport default _isArguments;","import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport _isArguments from \"./internal/_isArguments.js\"; // cover IE < 9 keys issues\n\nvar hasEnumBug = !\n/*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug =\n/*#__PURE__*/\nfunction () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) :\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n\n  var prop, nIdx;\n  var ks = [];\n\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n\n      nIdx -= 1;\n    }\n  }\n\n  return ks;\n});\nexport default keys;","import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _map from \"./internal/_map.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xmap from \"./internal/_xmap.js\";\nimport curryN from \"./curryN.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex, R.pluck, R.project\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\n\nvar map =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n\n    case '[object Object]':\n      return _reduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n\n    default:\n      return _map(fn, functor);\n  }\n}));\n\nexport default map;","export default function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n\n  return result;\n}","/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nexport default Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};","import _curry2 from \"./internal/_curry2.js\";\nimport _isString from \"./internal/_isString.js\";\n/**\n * Returns the nth element of the given list or string. If n is negative the\n * element at index length + n is returned.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> a | Undefined\n * @sig Number -> String -> String\n * @param {Number} offset\n * @param {*} list\n * @return {*}\n * @example\n *\n *      const list = ['foo', 'bar', 'baz', 'quux'];\n *      R.nth(1, list); //=> 'bar'\n *      R.nth(-1, list); //=> 'quux'\n *      R.nth(-99, list); //=> undefined\n *\n *      R.nth(2, 'abc'); //=> 'c'\n *      R.nth(3, 'abc'); //=> ''\n * @symb R.nth(-1, [a, b, c]) = c\n * @symb R.nth(0, [a, b, c]) = a\n * @symb R.nth(1, [a, b, c]) = b\n */\n\nvar nth =\n/*#__PURE__*/\n_curry2(function nth(offset, list) {\n  var idx = offset < 0 ? list.length + offset : offset;\n  return _isString(list) ? list.charAt(idx) : list[idx];\n});\n\nexport default nth;","import _curry2 from \"./internal/_curry2.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport nth from \"./nth.js\";\n/**\n * Returns a function that when supplied an object returns the indicated\n * property of that object, if it exists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx -> {s: a} -> a | Undefined\n * @param {String|Number} p The property name or array index\n * @param {Object} obj The object to query\n * @return {*} The value at `obj.p`.\n * @see R.path, R.props, R.pluck, R.project, R.nth\n * @example\n *\n *      R.prop('x', {x: 100}); //=> 100\n *      R.prop('x', {}); //=> undefined\n *      R.prop(0, [100]); //=> 100\n *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n */\n\nvar prop =\n/*#__PURE__*/\n_curry2(function prop(p, obj) {\n  if (obj == null) {\n    return;\n  }\n\n  return _isInteger(p) ? nth(p, obj) : obj[p];\n});\n\nexport default prop;","import _curry3 from \"./internal/_curry3.js\";\nimport _reduce from \"./internal/_reduce.js\";\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to shortcut the iteration.\n *\n * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function\n * is *(value, acc)*.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduce` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n *\n * Dispatches to the `reduce` method of the third argument, if present. When\n * doing so, it is up to the user to handle the [`R.reduced`](#reduced)\n * shortcuting, as this is not implemented by `reduce`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduced, R.addIndex, R.reduceRight\n * @example\n *\n *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10\n *      //          -               -10\n *      //         / \\              / \\\n *      //        -   4           -6   4\n *      //       / \\              / \\\n *      //      -   3   ==>     -3   3\n *      //     / \\              / \\\n *      //    -   2           -1   2\n *      //   / \\              / \\\n *      //  0   1            0   1\n *\n * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)\n */\n\nvar reduce =\n/*#__PURE__*/\n_curry3(_reduce);\n\nexport default reduce;","import _curry1 from \"./internal/_curry1.js\";\n/**\n * Returns a function that always returns the given value. Note that for\n * non-primitives the value returned is a reference to the original value.\n *\n * This function is known as `const`, `constant`, or `K` (for K combinator) in\n * other languages and libraries.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> (* -> a)\n * @param {*} val The value to wrap in a function\n * @return {Function} A Function :: * -> val.\n * @example\n *\n *      const t = R.always('Tee');\n *      t(); //=> 'Tee'\n */\n\nvar always =\n/*#__PURE__*/\n_curry1(function always(val) {\n  return function () {\n    return val;\n  };\n});\n\nexport default always;","import _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport map from \"./map.js\";\n/**\n * ap applies a list of functions to a list of values.\n *\n * Dispatches to the `ap` method of the second argument, if present. Also\n * treats curried functions as applicatives.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Function\n * @sig [a -> b] -> [a] -> [b]\n * @sig Apply f => f (a -> b) -> f a -> f b\n * @sig (r -> a -> b) -> (r -> a) -> (r -> b)\n * @param {*} applyF\n * @param {*} applyX\n * @return {*}\n * @example\n *\n *      R.ap([R.multiply(2), R.add(3)], [1,2,3]); //=> [2, 4, 6, 4, 5, 6]\n *      R.ap([R.concat('tasty '), R.toUpper], ['pizza', 'salad']); //=> [\"tasty pizza\", \"tasty salad\", \"PIZZA\", \"SALAD\"]\n *\n *      // R.ap can also be used as S combinator\n *      // when only two functions are passed\n *      R.ap(R.concat, R.toUpper)('Ramda') //=> 'RamdaRAMDA'\n * @symb R.ap([f, g], [a, b]) = [f(a), f(b), g(a), g(b)]\n */\n\nvar ap =\n/*#__PURE__*/\n_curry2(function ap(applyF, applyX) {\n  return typeof applyX['fantasy-land/ap'] === 'function' ? applyX['fantasy-land/ap'](applyF) : typeof applyF.ap === 'function' ? applyF.ap(applyX) : typeof applyF === 'function' ? function (x) {\n    return applyF(x)(applyX(x));\n  } : _reduce(function (acc, f) {\n    return _concat(acc, map(f, applyX));\n  }, [], applyF);\n});\n\nexport default ap;","import _curry1 from \"./internal/_curry1.js\";\n/**\n * Checks if the input value is `null` or `undefined`.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Type\n * @sig * -> Boolean\n * @param {*} x The value to test.\n * @return {Boolean} `true` if `x` is `undefined` or `null`, otherwise `false`.\n * @example\n *\n *      R.isNil(null); //=> true\n *      R.isNil(undefined); //=> true\n *      R.isNil(0); //=> false\n *      R.isNil([]); //=> false\n */\n\nvar isNil =\n/*#__PURE__*/\n_curry1(function isNil(x) {\n  return x == null;\n});\n\nexport default isNil;","import _curry2 from \"./internal/_curry2.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport ap from \"./ap.js\";\nimport curryN from \"./curryN.js\";\nimport map from \"./map.js\";\n/**\n * \"lifts\" a function to be the specified arity, so that it may \"map over\" that\n * many lists, Functions or other objects that satisfy the [FantasyLand Apply spec](https://github.com/fantasyland/fantasy-land#apply).\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Function\n * @sig Number -> (*... -> *) -> ([*]... -> [*])\n * @param {Function} fn The function to lift into higher context\n * @return {Function} The lifted function.\n * @see R.lift, R.ap\n * @example\n *\n *      const madd3 = R.liftN(3, (...args) => R.sum(args));\n *      madd3([1,2,3], [1,2,3], [1]); //=> [3, 4, 5, 4, 5, 6, 5, 6, 7]\n */\n\nvar liftN =\n/*#__PURE__*/\n_curry2(function liftN(arity, fn) {\n  var lifted = curryN(arity, fn);\n  return curryN(arity, function () {\n    return _reduce(ap, map(lifted, arguments[0]), Array.prototype.slice.call(arguments, 1));\n  });\n});\n\nexport default liftN;","import _curry1 from \"./internal/_curry1.js\";\nimport liftN from \"./liftN.js\";\n/**\n * \"lifts\" a function of arity >= 1 so that it may \"map over\" a list, Function or other\n * object that satisfies the [FantasyLand Apply spec](https://github.com/fantasyland/fantasy-land#apply).\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Function\n * @sig (*... -> *) -> ([*]... -> [*])\n * @param {Function} fn The function to lift into higher context\n * @return {Function} The lifted function.\n * @see R.liftN\n * @example\n *\n *      const madd3 = R.lift((a, b, c) => a + b + c);\n *\n *      madd3([100, 200], [30, 40], [5, 6, 7]); //=> [135, 136, 137, 145, 146, 147, 235, 236, 237, 245, 246, 247]\n *\n *      const madd5 = R.lift((a, b, c, d, e) => a + b + c + d + e);\n *\n *      madd5([10, 20], [1], [2, 3], [4], [100, 200]); //=> [117, 217, 118, 218, 127, 227, 128, 228]\n */\n\nvar lift =\n/*#__PURE__*/\n_curry1(function lift(fn) {\n  return liftN(fn.length, fn);\n});\n\nexport default lift;","import _curry3 from \"./internal/_curry3.js\";\n/**\n * Restricts a number to be within a range.\n *\n * Also works for other ordered types such as Strings and Dates.\n *\n * @func\n * @memberOf R\n * @since v0.20.0\n * @category Relation\n * @sig Ord a => a -> a -> a -> a\n * @param {Number} minimum The lower limit of the clamp (inclusive)\n * @param {Number} maximum The upper limit of the clamp (inclusive)\n * @param {Number} value Value to be clamped\n * @return {Number} Returns `minimum` when `val < minimum`, `maximum` when `val > maximum`, returns `val` otherwise\n * @example\n *\n *      R.clamp(1, 10, -5) // => 1\n *      R.clamp(1, 10, 15) // => 10\n *      R.clamp(1, 10, 4)  // => 4\n */\n\nvar clamp =\n/*#__PURE__*/\n_curry3(function clamp(min, max, value) {\n  if (min > max) {\n    throw new Error('min must not be greater than max in clamp(min, max, value)');\n  }\n\n  return value < min ? min : value > max ? max : value;\n});\n\nexport default clamp;","import _curry1 from \"./internal/_curry1.js\";\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nexport default type;","export default function _pipe(f, g) {\n  return function () {\n    return g.call(this, f.apply(this, arguments));\n  };\n}","import _isArray from \"./_isArray.js\";\n/**\n * This checks whether a function has a [methodname] function. If it isn't an\n * array it will execute that function otherwise it will default to the ramda\n * implementation.\n *\n * @private\n * @param {Function} fn ramda implementation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\n\nexport default function _checkForMethod(methodname, fn) {\n  return function () {\n    var length = arguments.length;\n\n    if (length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[length - 1];\n    return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, Array.prototype.slice.call(arguments, 0, length - 1));\n  };\n}","import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry3 from \"./internal/_curry3.js\";\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\n\nvar slice =\n/*#__PURE__*/\n_curry3(\n/*#__PURE__*/\n_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\n\nexport default slice;","import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.head, R.init, R.last\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\n\nvar tail =\n/*#__PURE__*/\n_curry1(\n/*#__PURE__*/\n_checkForMethod('tail',\n/*#__PURE__*/\nslice(1, Infinity)));\n\nexport default tail;","import _arity from \"./internal/_arity.js\";\nimport _pipe from \"./internal/_pipe.js\";\nimport reduce from \"./reduce.js\";\nimport tail from \"./tail.js\";\n/**\n * Performs left-to-right function composition. The first argument may have\n * any arity; the remaining arguments must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * **Note:** The result of pipe is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      const f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n * @symb R.pipe(f, g, h)(a, b) = h(g(f(a, b)))\n * @symb R.pipe(f, g, h)(a)(b) = h(g(f(a)))(b)\n */\n\nexport default function pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n\n  return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));\n}","import _curry1 from \"./internal/_curry1.js\";\nimport _isString from \"./internal/_isString.js\";\n/**\n * Returns a new list or string with the elements or characters in reverse\n * order.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {Array|String} list\n * @return {Array|String}\n * @example\n *\n *      R.reverse([1, 2, 3]);  //=> [3, 2, 1]\n *      R.reverse([1, 2]);     //=> [2, 1]\n *      R.reverse([1]);        //=> [1]\n *      R.reverse([]);         //=> []\n *\n *      R.reverse('abc');      //=> 'cba'\n *      R.reverse('ab');       //=> 'ba'\n *      R.reverse('a');        //=> 'a'\n *      R.reverse('');         //=> ''\n */\n\nvar reverse =\n/*#__PURE__*/\n_curry1(function reverse(list) {\n  return _isString(list) ? list.split('').reverse().join('') : Array.prototype.slice.call(list, 0).reverse();\n});\n\nexport default reverse;","import pipe from \"./pipe.js\";\nimport reverse from \"./reverse.js\";\n/**\n * Performs right-to-left function composition. The last argument may have\n * any arity; the remaining arguments must be unary.\n *\n * **Note:** The result of compose is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig ((y -> z), (x -> y), ..., (o -> p), ((a, b, ..., n) -> o)) -> ((a, b, ..., n) -> z)\n * @param {...Function} ...functions The functions to compose\n * @return {Function}\n * @see R.pipe\n * @example\n *\n *      const classyGreeting = (firstName, lastName) => \"The name's \" + lastName + \", \" + firstName + \" \" + lastName\n *      const yellGreeting = R.compose(R.toUpper, classyGreeting);\n *      yellGreeting('James', 'Bond'); //=> \"THE NAME'S BOND, JAMES BOND\"\n *\n *      R.compose(Math.abs, R.add(1), R.multiply(2))(-4) //=> 7\n *\n * @symb R.compose(f, g, h)(a, b) = f(g(h(a, b)))\n * @symb R.compose(f, g, h)(a)(b) = f(g(h(a)))(b)\n */\n\nexport default function compose() {\n  if (arguments.length === 0) {\n    throw new Error('compose requires at least one argument');\n  }\n\n  return pipe.apply(this, reverse(arguments));\n}","import nth from \"./nth.js\";\n/**\n * Returns the first element of the given list or string. In some libraries\n * this function is named `first`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> a | Undefined\n * @sig String -> String\n * @param {Array|String} list\n * @return {*}\n * @see R.tail, R.init, R.last\n * @example\n *\n *      R.head(['fi', 'fo', 'fum']); //=> 'fi'\n *      R.head([]); //=> undefined\n *\n *      R.head('abc'); //=> 'a'\n *      R.head(''); //=> ''\n */\n\nvar head =\n/*#__PURE__*/\nnth(0);\nexport default head;","export default function _identity(x) {\n  return x;\n}","import _curry1 from \"./internal/_curry1.js\";\nimport _identity from \"./internal/_identity.js\";\n/**\n * A function that does nothing but return the parameter supplied to it. Good\n * as a default or placeholder function.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> a\n * @param {*} x The value to return.\n * @return {*} The input value, `x`.\n * @example\n *\n *      R.identity(1); //=> 1\n *\n *      const obj = {};\n *      R.identity(obj) === obj; //=> true\n * @symb R.identity(a) = a\n */\n\nvar identity =\n/*#__PURE__*/\n_curry1(_identity);\n\nexport default identity;","export default function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n\n  return list;\n}","export default function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}","// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\n\nexport default typeof Object.is === 'function' ? Object.is : _objectIs;","import _arrayFromIterator from \"./_arrayFromIterator.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _functionName from \"./_functionName.js\";\nimport _has from \"./_has.js\";\nimport _objectIs from \"./_objectIs.js\";\nimport keys from \"../keys.js\";\nimport type from \"../type.js\";\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n\n  var b = _arrayFromIterator(bIterator);\n\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\n\nexport default function _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n\n  var typeA = type(a);\n\n  if (typeA !== type(b)) {\n    return false;\n  }\n\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n\n      break;\n\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n\n      break;\n\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n\n      break;\n\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n\n      break;\n  }\n\n  var idx = stackA.length - 1;\n\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n\n    idx -= 1;\n  }\n\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n\n  while (idx >= 0) {\n    var key = keysA[idx];\n\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n\n    idx -= 1;\n  }\n\n  return true;\n}","export default function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}","import _curry2 from \"./internal/_curry2.js\";\nimport _equals from \"./internal/_equals.js\";\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\nvar equals =\n/*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\nexport default equals;","export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}","import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFilter =\n/*#__PURE__*/\nfunction () {\n  function XFilter(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XFilter.prototype['@@transducer/init'] = _xfBase.init;\n  XFilter.prototype['@@transducer/result'] = _xfBase.result;\n\n  XFilter.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n\n  return XFilter;\n}();\n\nvar _xfilter =\n/*#__PURE__*/\n_curry2(function _xfilter(f, xf) {\n  return new XFilter(f, xf);\n});\n\nexport default _xfilter;","import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _filter from \"./internal/_filter.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xfilter from \"./internal/_xfilter.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a predicate and a `Filterable`, and returns a new filterable of the\n * same type containing the members of the given filterable which satisfy the\n * given predicate. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * Dispatches to the `filter` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array} Filterable\n * @see R.reject, R.transduce, R.addIndex\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *\n *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar filter =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/filter', 'filter'], _xfilter, function (pred, filterable) {\n  return _isObject(filterable) ? _reduce(function (acc, key) {\n    if (pred(filterable[key])) {\n      acc[key] = filterable[key];\n    }\n\n    return acc;\n  }, {}, keys(filterable)) : // else\n  _filter(pred, filterable);\n}));\n\nexport default filter;","export default function _filter(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      result[result.length] = list[idx];\n    }\n\n    idx += 1;\n  }\n\n  return result;\n}","import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns the first argument if it is truthy, otherwise the second argument.\n * Acts as the boolean `or` statement if both inputs are `Boolean`s.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig a -> b -> a | b\n * @param {Any} a\n * @param {Any} b\n * @return {Any}\n * @see R.either, R.and\n * @example\n *\n *      R.or(true, true); //=> true\n *      R.or(true, false); //=> true\n *      R.or(false, true); //=> true\n *      R.or(false, false); //=> false\n */\n\nvar or =\n/*#__PURE__*/\n_curry2(function or(a, b) {\n  return a || b;\n});\n\nexport default or;","import _curry2 from \"./internal/_curry2.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport lift from \"./lift.js\";\nimport or from \"./or.js\";\n/**\n * A function wrapping calls to the two functions in an `||` operation,\n * returning the result of the first function if it is truth-y and the result\n * of the second function otherwise. Note that this is short-circuited,\n * meaning that the second function will not be invoked if the first returns a\n * truth-y value.\n *\n * In addition to functions, `R.either` also accepts any fantasy-land compatible\n * applicative functor.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category Logic\n * @sig (*... -> Boolean) -> (*... -> Boolean) -> (*... -> Boolean)\n * @param {Function} f a predicate\n * @param {Function} g another predicate\n * @return {Function} a function that applies its arguments to `f` and `g` and `||`s their outputs together.\n * @see R.both, R.or\n * @example\n *\n *      const gt10 = x => x > 10;\n *      const even = x => x % 2 === 0;\n *      const f = R.either(gt10, even);\n *      f(101); //=> true\n *      f(8); //=> true\n *\n *      R.either(Maybe.Just(false), Maybe.Just(55)); // => Maybe.Just(55)\n *      R.either([false, false, 'a'], [11]) // => [11, 11, \"a\"]\n */\n\nvar either =\n/*#__PURE__*/\n_curry2(function either(f, g) {\n  return _isFunction(f) ? function _either() {\n    return f.apply(this, arguments) || g.apply(this, arguments);\n  } : lift(or)(f, g);\n});\n\nexport default either;","export default function _isFunction(x) {\n  var type = Object.prototype.toString.call(x);\n  return type === '[object Function]' || type === '[object AsyncFunction]' || type === '[object GeneratorFunction]' || type === '[object AsyncGeneratorFunction]';\n}","import _curry1 from \"./internal/_curry1.js\";\nimport _isArguments from \"./internal/_isArguments.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _isString from \"./internal/_isString.js\";\nimport _isTypedArray from \"./internal/_isTypedArray.js\";\n/**\n * Returns the empty value of its argument's type. Ramda defines the empty\n * value of Array (`[]`), Object (`{}`), String (`''`),\n * TypedArray (`Uint8Array []`, `Float32Array []`, etc), and Arguments. Other\n * types are supported if they define `<Type>.empty`,\n * `<Type>.prototype.empty` or implement the\n * [FantasyLand Monoid spec](https://github.com/fantasyland/fantasy-land#monoid).\n *\n * Dispatches to the `empty` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Function\n * @sig a -> a\n * @param {*} x\n * @return {*}\n * @example\n *\n *      R.empty(Just(42));               //=> Nothing()\n *      R.empty([1, 2, 3]);              //=> []\n *      R.empty('unicorns');             //=> ''\n *      R.empty({x: 1, y: 2});           //=> {}\n *      R.empty(Uint8Array.from('123')); //=> Uint8Array []\n */\n\nvar empty =\n/*#__PURE__*/\n_curry1(function empty(x) {\n  return x != null && typeof x['fantasy-land/empty'] === 'function' ? x['fantasy-land/empty']() : x != null && x.constructor != null && typeof x.constructor['fantasy-land/empty'] === 'function' ? x.constructor['fantasy-land/empty']() : x != null && typeof x.empty === 'function' ? x.empty() : x != null && x.constructor != null && typeof x.constructor.empty === 'function' ? x.constructor.empty() : _isArray(x) ? [] : _isString(x) ? '' : _isObject(x) ? {} : _isArguments(x) ? function () {\n    return arguments;\n  }() : _isTypedArray(x) ? x.constructor.from('') : void 0 // else\n  ;\n});\n\nexport default empty;","/**\n * Tests whether or not an object is a typed array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is a typed array, `false` otherwise.\n * @example\n *\n *      _isTypedArray(new Uint8Array([])); //=> true\n *      _isTypedArray(new Float32Array([])); //=> true\n *      _isTypedArray([]); //=> false\n *      _isTypedArray(null); //=> false\n *      _isTypedArray({}); //=> false\n */\nexport default function _isTypedArray(val) {\n  var type = Object.prototype.toString.call(val);\n  return type === '[object Uint8ClampedArray]' || type === '[object Int8Array]' || type === '[object Uint8Array]' || type === '[object Int16Array]' || type === '[object Uint16Array]' || type === '[object Int32Array]' || type === '[object Uint32Array]' || type === '[object Float32Array]' || type === '[object Float64Array]' || type === '[object BigInt64Array]' || type === '[object BigUint64Array]';\n}","import _curry2 from \"./_curry2.js\";\nimport _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFind =\n/*#__PURE__*/\nfunction () {\n  function XFind(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.found = false;\n  }\n\n  XFind.prototype['@@transducer/init'] = _xfBase.init;\n\n  XFind.prototype['@@transducer/result'] = function (result) {\n    if (!this.found) {\n      result = this.xf['@@transducer/step'](result, void 0);\n    }\n\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XFind.prototype['@@transducer/step'] = function (result, input) {\n    if (this.f(input)) {\n      this.found = true;\n      result = _reduced(this.xf['@@transducer/step'](result, input));\n    }\n\n    return result;\n  };\n\n  return XFind;\n}();\n\nvar _xfind =\n/*#__PURE__*/\n_curry2(function _xfind(f, xf) {\n  return new XFind(f, xf);\n});\n\nexport default _xfind;","export default function _reduced(x) {\n  return x && x['@@transducer/reduced'] ? x : {\n    '@@transducer/value': x,\n    '@@transducer/reduced': true\n  };\n}","import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xfind from \"./internal/_xfind.js\";\n/**\n * Returns the first element of the list which matches the predicate, or\n * `undefined` if no element matches.\n *\n * Dispatches to the `find` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> a | undefined\n * @param {Function} fn The predicate function used to determine if the element is the\n *        desired one.\n * @param {Array} list The array to consider.\n * @return {Object} The element found, or `undefined`.\n * @see R.transduce\n * @example\n *\n *      const xs = [{a: 1}, {a: 2}, {a: 3}];\n *      R.find(R.propEq('a', 2))(xs); //=> {a: 2}\n *      R.find(R.propEq('a', 4))(xs); //=> undefined\n */\n\nvar find =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['find'], _xfind, function find(fn, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      return list[idx];\n    }\n\n    idx += 1;\n  }\n}));\n\nexport default find;","import _curry3 from \"./internal/_curry3.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Creates a function that will process either the `onTrue` or the `onFalse`\n * function depending upon the result of the `condition` predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Logic\n * @sig (*... -> Boolean) -> (*... -> *) -> (*... -> *) -> (*... -> *)\n * @param {Function} condition A predicate function\n * @param {Function} onTrue A function to invoke when the `condition` evaluates to a truthy value.\n * @param {Function} onFalse A function to invoke when the `condition` evaluates to a falsy value.\n * @return {Function} A new function that will process either the `onTrue` or the `onFalse`\n *                    function depending upon the result of the `condition` predicate.\n * @see R.unless, R.when, R.cond\n * @example\n *\n *      const incCount = R.ifElse(\n *        R.has('count'),\n *        R.over(R.lensProp('count'), R.inc),\n *        R.assoc('count', 1)\n *      );\n *      incCount({ count: 1 }); //=> { count: 2 }\n *      incCount({});           //=> { count: 1 }\n */\n\nvar ifElse =\n/*#__PURE__*/\n_curry3(function ifElse(condition, onTrue, onFalse) {\n  return curryN(Math.max(condition.length, onTrue.length, onFalse.length), function _ifElse() {\n    return condition.apply(this, arguments) ? onTrue.apply(this, arguments) : onFalse.apply(this, arguments);\n  });\n});\n\nexport default ifElse;","import _curry1 from \"./internal/_curry1.js\";\nimport empty from \"./empty.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns `true` if the given value is its type's empty value; `false`\n * otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig a -> Boolean\n * @param {*} x\n * @return {Boolean}\n * @see R.empty\n * @example\n *\n *      R.isEmpty([1, 2, 3]);           //=> false\n *      R.isEmpty([]);                  //=> true\n *      R.isEmpty('');                  //=> true\n *      R.isEmpty(null);                //=> false\n *      R.isEmpty({});                  //=> true\n *      R.isEmpty({length: 0});         //=> false\n *      R.isEmpty(Uint8Array.from('')); //=> true\n */\n\nvar isEmpty =\n/*#__PURE__*/\n_curry1(function isEmpty(x) {\n  return x != null && equals(x, empty(x));\n});\n\nexport default isEmpty;","import _arity from \"./_arity.js\";\nimport _curry2 from \"./_curry2.js\";\nexport default function _createPartialApplicator(concat) {\n  return _curry2(function (fn, args) {\n    return _arity(Math.max(0, fn.length - args.length), function () {\n      return fn.apply(this, concat(args, arguments));\n    });\n  });\n}","import _concat from \"./internal/_concat.js\";\nimport _createPartialApplicator from \"./internal/_createPartialApplicator.js\";\n/**\n * Takes a function `f` and a list of arguments, and returns a function `g`.\n * When applied, `g` returns the result of applying `f` to the arguments\n * provided initially followed by the arguments provided to `g`.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Function\n * @sig ((a, b, c, ..., n) -> x) -> [a, b, c, ...] -> ((d, e, f, ..., n) -> x)\n * @param {Function} f\n * @param {Array} args\n * @return {Function}\n * @see R.partialRight, R.curry\n * @example\n *\n *      const multiply2 = (a, b) => a * b;\n *      const double = R.partial(multiply2, [2]);\n *      double(3); //=> 6\n *\n *      const greet = (salutation, title, firstName, lastName) =>\n *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';\n *\n *      const sayHello = R.partial(greet, ['Hello']);\n *      const sayHelloToMs = R.partial(sayHello, ['Ms.']);\n *      sayHelloToMs('Jane', 'Jones'); //=> 'Hello, Ms. Jane Jones!'\n * @symb R.partial(f, [a, b])(c, d) = f(a, b, c, d)\n */\n\nvar partial =\n/*#__PURE__*/\n_createPartialApplicator(_concat);\n\nexport default partial;","import _curry3 from \"./internal/_curry3.js\";\nimport prop from \"./prop.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns `true` if the specified object property is equal, in\n * [`R.equals`](#equals) terms, to the given value; `false` otherwise.\n * You can test multiple properties with [`R.whereEq`](#whereEq).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig String -> a -> Object -> Boolean\n * @param {String} name\n * @param {*} val\n * @param {*} obj\n * @return {Boolean}\n * @see R.whereEq, R.propSatisfies, R.equals\n * @example\n *\n *      const abby = {name: 'Abby', age: 7, hair: 'blond'};\n *      const fred = {name: 'Fred', age: 12, hair: 'brown'};\n *      const rusty = {name: 'Rusty', age: 10, hair: 'brown'};\n *      const alois = {name: 'Alois', age: 15, disposition: 'surly'};\n *      const kids = [abby, fred, rusty, alois];\n *      const hasBrownHair = R.propEq('hair', 'brown');\n *      R.filter(hasBrownHair, kids); //=> [fred, rusty]\n */\n\nvar propEq =\n/*#__PURE__*/\n_curry3(function propEq(name, val, obj) {\n  return equals(val, prop(name, obj));\n});\n\nexport default propEq;","import _curry3 from \"./internal/_curry3.js\";\nimport prop from \"./prop.js\";\n/**\n * Returns `true` if the specified object property satisfies the given\n * predicate; `false` otherwise. You can test multiple properties with\n * [`R.where`](#where).\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category Logic\n * @sig (a -> Boolean) -> String -> {String: a} -> Boolean\n * @param {Function} pred\n * @param {String} name\n * @param {*} obj\n * @return {Boolean}\n * @see R.where, R.propEq, R.propIs\n * @example\n *\n *      R.propSatisfies(x => x > 0, 'x', {x: 1, y: 2}); //=> true\n */\n\nvar propSatisfies =\n/*#__PURE__*/\n_curry3(function propSatisfies(pred, name, obj) {\n  return pred(prop(name, obj));\n});\n\nexport default propSatisfies;","import _curry2 from \"./internal/_curry2.js\";\n/**\n * Sorts the list according to the supplied function.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord b => (a -> b) -> [a] -> [a]\n * @param {Function} fn\n * @param {Array} list The list to sort.\n * @return {Array} A new list sorted by the keys generated by `fn`.\n * @example\n *\n *      const sortByFirstItem = R.sortBy(R.prop(0));\n *      const pairs = [[-1, 1], [-2, 2], [-3, 3]];\n *      sortByFirstItem(pairs); //=> [[-3, 3], [-2, 2], [-1, 1]]\n *\n *      const sortByNameCaseInsensitive = R.sortBy(R.compose(R.toLower, R.prop('name')));\n *      const alice = {\n *        name: 'ALICE',\n *        age: 101\n *      };\n *      const bob = {\n *        name: 'Bob',\n *        age: -10\n *      };\n *      const clara = {\n *        name: 'clara',\n *        age: 314.159\n *      };\n *      const people = [clara, bob, alice];\n *      sortByNameCaseInsensitive(people); //=> [alice, bob, clara]\n */\n\nvar sortBy =\n/*#__PURE__*/\n_curry2(function sortBy(fn, list) {\n  return Array.prototype.slice.call(list, 0).sort(function (a, b) {\n    var aa = fn(a);\n    var bb = fn(b);\n    return aa < bb ? -1 : aa > bb ? 1 : 0;\n  });\n});\n\nexport default sortBy;","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable } from \"svelte/store\";\n\nconst STORAGE_KEY = \"settings\";\n\nconst settings = writable(\n  {\n    selectedCharacterId: null,\n    newCharacter: false,\n    menuOpen: false,\n  },\n  (set) => {\n    const settings = JSON.parse(localStorage.getItem(STORAGE_KEY) || \"{}\");\n    set({ ...settings, menuOpen: false });\n\n    return (a, b, c, d) => console.log(\"settings sub\", a, b, c, d);\n  }\n);\n\nsettings.subscribe((settings) => {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(settings));\n});\n\nexport default settings;\n\nexport const setSelectedCharacterId = (id) =>\n  settings.update((oldSettings) => ({\n    ...oldSettings,\n    selectedCharacterId: id,\n    newCharacter: false,\n  }));\n\nexport const setNewCharacter = (id) =>\n  settings.update((oldSettings) => ({\n    ...oldSettings,\n    selectedCharacterId: null,\n    newCharacter: true,\n  }));\n\nexport const setMenuState = (menuOpen = false) =>\n  settings.update((oldState) => ({ ...oldState, menuOpen }));\n","<script>\n    export let item = {};\n    export let onRemove = () => {}\n</script>\n\n<fieldset class=\"eq\">\n    <h3 class=\"h3\">{item.type}</h3>\n\n    <div class=\"fields\">\n    {#if item.type === 'armor'}\n    <div>\n      <label class=\"small\" for=\"armor-type\">Armor Type</label>\n      <!-- svelte-ignore a11y-autofocus -->\n      <select class=\"theme-black-input\" id=\"armor-type\" bind:value={item.armorType} autofocus>\n          <option value=\"\">Select</option>\n          <option value=\"shield\">Shield</option>\n          <option value=\"light\">Light Armor</option>\n          <option value=\"medium\">Medium Armor</option>\n          <option value=\"heavy\">Heavy Armor</option>\n      </select>\n    </div>\n    \n\n    {:else if item.type === 'weapon'}\n    <div>\n        <label class=\"small\" for=\"weapon-type\">Weapon Type</label>\n        <select id=\"weapon-type\" class=\"theme-black-input\" bind:value={item.weaponType}>\n            <option value=\"melee\">Melee</option>\n            <option value=\"ranged\">Ranged</option>\n            <option value=\"thrown\">Thrown</option>\n        </select>\n    </div>\n    <div>\n        <label class=\"small\" for=\"damage\">Damage</label>\n        <input type=\"text\" id=\"damage\" class=\"theme-black-input\" bind:value={item.damageDie} placeholder=\"1d6\">\n    </div>\n        {#if item.weaponType === 'ranged'}\n            <div>\n                <label class=\"small\" for=\"ammunition-type\">Ammunition Type</label>\n                <select id=\"ammunition-type\" class=\"theme-black-input\" bind:value={item.ammoType}>\n                    <option value=\"arrow\">Arrow</option>\n                    <option value=\"bolt\">Bolt</option>\n                    <option value=\"rock\">Rock</option>\n                </select>\n            </div>\n            <div>\n                <label class=\"small\" for=\"ammunition-count\">Ammunition count</label>\n                <input type=\"number\" id=\"ammunition-count\" class=\"theme-black-input\" min=\"0\" max=\"20\" bind:value={item.ammoCount} />\n            </div>\n        {/if}\n\n    {:else if item.type === 'equipment'}\n        <div>\n          <label class=\"small\" for=\"quantity\">Quantity</label>\n          <input type=\"number\" id=\"quantity\" class=\"theme-black-input\" min=\"1\" max=\"20\" bind:value={item.quantity} />\n        </div>\n    {/if}\n\n    {#if item.type !== ''}\n    <div>\n        <label class=\"small\" for=\"description\">Description</label>\n        <input type=\"text\" id=\"description\" class=\"theme-black-input\" bind:value={item.description} />\n        <button type=\"button\" class=\"btn\" on:click={onRemove} title=\"Remove Equipment\">-</button>\n    </div>\n    {/if}\n</div>\n</fieldset>\n\n<style>\n.eq {\n  position: relative;\n  border: none;\n  margin: 0;\n}\n\n.h3 {\n  position: absolute;\n  top: 0;\n  left: -.5em;\n  margin: 0;\n  font-family: var(--callig);\n  font-size: 4rem;\n  line-height: 1;\n  color: magenta\n}\n\n.fields {\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.fields > div {padding: var(--small-padding);}\n\n.btn {\n  border: 2px solid #000;\n  border-radius: 0;\n  color: #000;\n  background: yellow;\n}\n.btn:focus {\n  outline: 1px solid yellow;\n}\n\n.small {\n    font-size: .75em;\n}\n</style>\n\n","import { clamp, map } from \"ramda\";\nimport { writable } from \"svelte/store\";\nimport { setSelectedCharacterId } from \"./Settings\";\n\nconst STORAGE_KEY = \"character:\";\n\nconst character = writable({}, (set) => {\n  const { selectedCharacterId } = JSON.parse(\n    localStorage.getItem(\"settings\") || \"{}\"\n  );\n\n  if (selectedCharacterId !== undefined) {\n    set(\n      JSON.parse(\n        localStorage.getItem(`${STORAGE_KEY}${selectedCharacterId}`) || \"{}\"\n      )\n    );\n  }\n\n  return (a, b, c, d) => console.log(\"nomoresubs\", a, b, c, d);\n});\n\n// More events ... perhaps a way to push changes when the local stops changing\ncharacter.subscribe((value) => {\n  const { id } = value;\n  localStorage.setItem(`${STORAGE_KEY}${id}`, JSON.stringify(value));\n});\n\nexport default character;\n\nexport const setSelected = (id) => {\n  const selected = localStorage.getItem(`${STORAGE_KEY}${id}`);\n\n  // TODO: handle this case\n  // if (selected == null)\n\n  setSelectedCharacterId(id);\n  character.update(() => JSON.parse(selected));\n};\n\n//\nconst toggleEquip = (itemId) => (value) => {\n  const { _id, equipped } = value;\n\n  return { ...value, equipped: itemId === _id ? !equipped : equipped };\n};\n\n//\nexport const equip = (itemId) =>\n  character.update((currentCharacter) => {\n    const { equipment } = currentCharacter;\n\n    return {\n      ...currentCharacter,\n      equipment: map(toggleEquip(itemId), equipment),\n    };\n  });\n\n// ARMOR\n// TODO: This method need to check for out of bounds\nexport const setArmorTier = (itemId, currentTier) =>\n  character.update((currentCharacter) => {\n    const equipment = currentCharacter.equipment.map((eq) =>\n      eq._id === itemId ? { ...eq, currentTier } : eq\n    );\n\n    return {\n      ...currentCharacter,\n      equipment,\n    };\n  });\n\n// Weapons\nexport const breakWeapon = (itemId) =>\n  character.update((currentCharacter) => {\n    const equipment = currentCharacter.equipment.map((eq) =>\n      eq._id !== itemId ? eq : { ...eq, broken: true }\n    );\n\n    return {\n      ...currentCharacter,\n      equipment,\n    };\n  });\n\n// HP Helpers\nexport const incrementHp = () =>\n  character.update((currentCharacter) => {\n    const { current, maximum } = currentCharacter.hitpoints;\n\n    return current < maximum\n      ? {\n          ...currentCharacter,\n          hitpoints: {\n            current: current + 1,\n            maximum,\n          },\n        }\n      : currentCharacter;\n  });\n\nexport const addHealth = (hp) =>\n  character.update((oldState) => {\n    const { current, maximum } = oldState.hitpoints;\n\n    return {\n      ...oldState,\n      hitpoints: {\n        current: clamp(1, maximum, current + hp),\n        maximum,\n      },\n    };\n  });\n\nexport const decrementHp = () =>\n  character.update((currentCharacter) => {\n    const { current, maximum } = currentCharacter.hitpoints;\n\n    return {\n      ...currentCharacter,\n      hitpoints: {\n        current: current - 1,\n        maximum,\n      },\n    };\n  });\n\n// Omens\nexport const incrementOmens = () =>\n  character.update((currentCharacter) => {\n    const { current, die, maximum } = currentCharacter.omens;\n\n    return current < maximum\n      ? {\n          ...currentCharacter,\n          omens: {\n            current: current + 1,\n            die,\n            maximum,\n          },\n        }\n      : currentCharacter;\n  });\n\nexport const decrementOmens = () =>\n  character.update((currentCharacter) => {\n    const { current, die, maximum } = currentCharacter.omens;\n\n    return current > 1\n      ? {\n          ...currentCharacter,\n          omens: {\n            current: current - 1,\n            die,\n            maximum,\n          },\n        }\n      : {\n          ...currentCharacter,\n          omens: {\n            current: 0,\n            die,\n            maximum,\n          },\n        };\n  });\n\n// Powers\nexport const incrementPowers = () =>\n  character.update((currentCharacter) => {\n    const { powers = 0 } = currentCharacter;\n\n    return {\n      ...currentCharacter,\n      powers: powers === 4 ? 4 : powers + 1,\n    };\n  });\n\nexport const decrementPowers = () =>\n  character.update((currentCharacter) => {\n    const { powers = 0 } = currentCharacter;\n\n    return {\n      ...currentCharacter,\n      powers: powers === 0 ? 0 : powers - 1,\n    };\n  });\n\n// EQUIPMENT\nexport const dropEquipment = (index) =>\n  character.update((currentCharacter) => {\n    const { equipment } = currentCharacter;\n\n    return {\n      ...currentCharacter,\n      equipment: equipment.filter((value, i) => i !== index),\n    };\n  });\n\nexport const subtractEquipment = (id) =>\n  character.update((oldState) => {\n    const { equipment } = oldState;\n\n    const updatedEquipment = equipment.reduce((acc, eq) => {\n      if (eq._id !== id) return acc.concat(eq);\n\n      const nextQ = eq.quantity - 1;\n\n      return nextQ === 0 ? acc : acc.concat({ ...eq, quantity: nextQ });\n    }, []);\n\n    return {\n      ...oldState,\n      equipment: updatedEquipment,\n    };\n  });\n\nexport const addEquipment = (id) =>\n  character.update((oldState) => {\n    const { equipment } = oldState;\n\n    const updatedEquipment = equipment.map((eq) => {\n      if (eq._id !== id) return eq;\n\n      const nextQ = eq.quantity + 1;\n\n      return nextQ * eq.weight <= 100 ? { ...eq, quantity: nextQ } : acc;\n    });\n\n    return {\n      ...oldState,\n      equipment: updatedEquipment,\n    };\n  });\n\nexport const setSilver = (num) =>\n  character.update((oldState) => {\n    const { silver } = oldState;\n    const nextSilver = silver + num;\n\n    return {\n      ...oldState,\n      silver: nextSilver,\n    };\n  });\n","import { writable } from \"svelte/store\";\nimport { setSelectedCharacterId } from \"./Settings\";\nimport { setSelected } from \"./Character\";\n\nconst STORAGE_KEY = \"characters\";\n\nconst characters = writable([], (set) => {\n  const char = JSON.parse(localStorage.getItem(STORAGE_KEY) || \"[]\"); // add either?\n  set(char);\n\n  return (a, b, c, d) => console.log(\"characters unsub\", a, b, c, d);\n});\n\ncharacters.subscribe((value) => {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(value));\n});\n\nexport default characters;\n\n// Crud\nexport const addCharacter = (character) => {\n  const id = Date.now().toString();\n\n  localStorage.setItem(`character:${id}`, JSON.stringify({ id, ...character }));\n  characters.update((ids) => [...ids, id]);\n  setSelectedCharacterId(id);\n  setSelected(id);\n};\n\n// cruD\nexport const deleteCharacter = (deleteId) => {\n  characters.update((ids) => ids.filter((id) => id !== deleteId));\n\n  localStorage.removeItem(`character:${deleteId}`);\n  // may need to sync storage with selected character\n};\n","import { compose, prop } from \"ramda\";\n\nexport const symbol = (score) =>\n  score === 0 ? `±${score}` : score > 0 ? `+${score}` : score;\n\nexport const trace = (message) => (x) => {\n  console.log(message, x);\n  return x;\n};\n\nexport const generateEmptyCharacter = (id) => ({\n  id,\n  name: \"New Character\",\n  description: \"\",\n  class: {\n    name: \"\",\n    powers: [],\n  },\n  hitpoints: {\n    maximum: 0,\n    current: 0,\n  },\n  omens: {\n    die: 0,\n    current: 0,\n  },\n  abilities: {\n    strength: 0,\n    agility: 0,\n    presence: 0,\n    toughness: 0,\n  },\n  equipment: [],\n  provisions: {\n    waterskin: true,\n    daysOfWater: 4,\n    daysOfFood: 0,\n  },\n  silver: 0,\n});\n\n// Rolling\n// const validRollString = /^\\d+d\\d{1,3}[+-x]?\\d+$/;\n// const rollString = \"2d6x10\";\n// const tupleDice = [2, \"d\", 6, \"x\", 10]; // a.k.a. roll formula\n\nexport const roll = (d) => Math.floor(Math.random() * d) + 1;\n\nexport const rollFormula = ([number, , die, operation, modifier]) => {\n  let r = 0;\n\n  for (let i = 0; i < number; i++) {\n    r += roll(die);\n  }\n\n  switch (operation) {\n    case \"+\":\n      r += modifier;\n      break;\n    case \"-\":\n      r -= modifier;\n      break;\n    case \"x\":\n      r *= modifier;\n      break;\n    default:\n      break;\n  }\n\n  return r;\n};\n\nexport const toInt = (str) => parseInt(str, 10);\nconst numOrZero = (x) => (isNaN(x) ? 0 : x);\n\nexport const nanSafeInt = compose(numOrZero, toInt);\n\nexport const rollHp = (roll, toughness) => {\n  const hp = roll + toughness;\n  return hp < 1 ? 1 : hp;\n};\n\nconst toInboundsIndex = (num) => (num === -1 ? Infinity : num);\n\nconst parseRollString = (rs) => {\n  const dieIndex = rs.indexOf(\"d\");\n  let modIndex = toInboundsIndex(rs.search(/[-x\\+]/));\n  let modNext = modIndex + 1;\n\n  const roll = [\n    toInt(rs.slice(0, dieIndex)),\n    \"d\",\n    toInt(rs.slice(dieIndex + 1, modIndex)),\n  ];\n\n  return modIndex === Infinity\n    ? roll\n    : [...roll, rs.slice(modIndex, modNext), toInt(rs.slice(modNext))];\n};\n\nexport const rollString = compose(rollFormula, parseRollString);\n\nexport const getAbilityScore = (num) =>\n  num < 5\n    ? -3\n    : num < 7\n    ? -2\n    : num < 9\n    ? -1\n    : num < 13\n    ? 0\n    : num < 15\n    ? 1\n    : num < 17\n    ? 2\n    : 3;\n\nexport const getDie = compose(prop(2), parseRollString);\n\nexport const alertRoll = (dr, score) => (roll) => {\n  const total = roll + score;\n  const hit = total >= dr ? \"Hits\" : \"Misses\";\n\n  alert(`D20 ${roll} + ${score} = ${total}; ${hit} DR${dr}`);\n};\n","import { map } from \"ramda\";\nimport { rollString } from \"../lib\";\n\nconst id = () => Math.random() * 1e16 + Date.now();\n\nconst formatItem = (eq) => {\n  const armorTiers = {\n    light: { currentTier: 1, maxTier: 1 },\n    medium: { currentTier: 2, maxTier: 2 },\n    heavy: { currentTier: 3, maxTier: 3 },\n  };\n\n  const { type, weaponType, armorType } = eq;\n\n  if (weaponType === \"ranged\") return { ...eq, _id: id(), usesAmmo: true };\n  if (type === \"armor\" && armorType !== \"shield\")\n    return { ...eq, _id: id(), ...armorTiers[armorType] };\n\n  return { ...eq, _id: id() };\n};\n\nconst formatEquipment = map(formatItem);\n\nexport const formatCharacterData = (formData) => {\n  const { food, hitpoints, omens, equipment, ...rest } = formData;\n\n  return {\n    ...rest,\n    hitpoints: {\n      maximum: hitpoints,\n      current: hitpoints,\n    },\n    omens: {\n      die: omens,\n      maximum: omens,\n      current: rollString(`1d${omens}`),\n    },\n    powers: rollString(`1d4+${rest.abilities.presence}`),\n    equipment: [\n      {\n        _id: id(),\n        description: \"A waterskin with # days of water\",\n        quantity: 4,\n      },\n      { _id: id(), description: \"# day(s) worth of food\", quantity: food },\n      ...formatEquipment(equipment),\n    ],\n  };\n};\n","<script>\n    import Equipment from './Equipment.svelte';\n    import { addCharacter } from '../../stores/Characters';\n    import { formatCharacterData } from '../../lib/formatCharacterData';\n\n    // Helpers\n    const ownership = (string) => string.endsWith('s') ? `${string}'` : `${string}'s`\n\n    let eq = '';\n    let formData = {\n        name: '',\n        silver: null,\n        food: null,\n        abilities: {\n          agility: null,\n          presence: null,\n          strength: null,\n          toughness: null\n        },\n        hitpoints: null,\n        tests: {\n          agility: 12,\n          presence: 12,\n          strength: 12,\n          toughness: 12,\n          melee: 12,\n          ranged: 12,\n          defense: 12,\n        },\n        className: null,\n        omens: 2,\n        description: null,\n        equipment: []\n    };\n\n    // Handlers\n    const onSubmit = () => addCharacter(formatCharacterData(formData));\n\n    const addEquipment = () => {\n      if (eq === '') return false;\n      \n      formData.equipment = [...formData.equipment, { type: eq, quantity: 1 }];\n      eq = '';\n    }\n\n    const handleRemove = (index) => () => formData.equipment = formData.equipment.filter((__dirname, ind) => ind !== index)\n\n    $: console.log(formData, typeof formData.food)\n</script>\n\n<div class=\"theme-black\">\n  <form\n      novalidate\n      on:submit|preventDefault={onSubmit}\n      id=\"new-character-form\"\n  >\n  \n    <div class=\"pod\">\n      <p>\n        <label class=\"hidden\" for=\"name\">Name</label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          class=\"theme-black-input\"\n          bind:value={formData.name}\n        /> <span class=\"calligraphy\">emerges from the wastes with a fist full of <label class=\"inline bigger\" for=\"silver\">Silver</label></span>\n        <input\n            type=\"number\"\n            id=\"silver\"\n            class=\"theme-black-input\"\n            bind:value={formData.silver}\n            min=\"10\"\n            max=\"300\"\n        />,\n        <span class=\"calligraphy\"> a waterskin and an amount of <label class=\"inline bigger\" for=\"food\">food</label></span>\n        <input\n            type=\"number\"\n            id=\"food\"\n            class=\"theme-black-input\"\n            bind:value={formData.food}\n            min=\"1\"\n            max=\"4\"\n        />\n      </p>\n    </div>\n    \n    <div class=\"pod\">\n      <div>\n        <p class=\"calligraphy\">\n          The weight of equipment compresses {!!formData.name ? ownership(formData.name) : 'your'} spine.\n        </p>\n        {#each formData.equipment as eq, i }\n          <Equipment item={eq} onRemove={handleRemove(i)} />\n        {/each}\n        <p class=\"text-right\">\n          <select class=\"theme-black-input calligraphy smaller\" bind:value={eq}>\n            <option value=\"\">Select</option>\n            <option value=\"armor\">Armor</option>\n            <option value=\"weapon\">Weapon</option>\n            <option value=\"equipment\">Equipment</option>\n            <option value=\"follower\">Follower</option>\n          </select>\n          <button\n            type=\"button\"\n            class=\"calligraphy btn\"\n            on:click={addEquipment}\n            title=\"Add Equipment\"\n          >+</button>\n        </p>\n      </div>\n    </div>\n\n    <div class=\"pod\">\n      <p class=\"calligraphy\">With scant natural abilities</p>\n      <div>\n        <label for=\"agility\">Agility</label>\n        <input\n            type=\"number\"\n            id=\"agility\"\n            class=\"theme-black-input\"\n            bind:value={formData.abilities.agility}\n            min=\"-3\"\n            max=\"3\"\n        />\n        <label for=\"presence\">Presence</label>\n        <input\n            type=\"number\"\n            id=\"presence\"\n            class=\"theme-black-input\"\n            bind:value={formData.abilities.presence}\n            min=\"-3\"\n            max=\"3\"\n        />\n        <label for=\"strength\">Strength</label>\n        <input\n            type=\"number\"\n            id=\"strength\"\n            class=\"theme-black-input\"\n            bind:value={formData.abilities.strength}\n            min=\"-3\"\n            max=\"3\"\n        />\n        <label for=\"toughness\">Toughness</label>\n        <input\n            type=\"number\"\n            id=\"toughness\"\n            class=\"theme-black-input\"\n            bind:value={formData.abilities.toughness}\n            min=\"-3\"\n            max=\"3\"\n        />\n        <label for=\"hitpoints\">Hit Points</label>\n        <input\n            type=\"number\"\n            id=\"hitpoints\"\n            class=\"theme-black-input\"\n            bind:value={formData.hitpoints}\n            min=\"1\"\n            max=\"20\"\n        />\n      </div>\n    </div>\n  \n      <div class=\"pod\">\n        <div>\n          <span class=\"calligraphy\">tests</span>        \n          <div class=\"r\">\n            <div>\n                <label for=\"agility-test\">Agility</label>\n                <input\n                    type=\"number\"\n                    id=\"agility-test\"\n                    class=\"theme-black-input\"\n                    bind:value={formData.tests.agility}\n                    min=\"-3\"\n                    max=\"3\"\n                />\n                <label for=\"presence-test\">Presence</label>\n                <input\n                    type=\"number\"\n                    id=\"presence-test\"\n                    class=\"theme-black-input\"\n                    bind:value={formData.tests.presence}\n                    min=\"-3\"\n                    max=\"3\"\n                />\n                <label for=\"strength-test\">Strength</label>\n                <input\n                    type=\"number\"\n                    id=\"strength-test\"\n                    class=\"theme-black-input\"\n                    bind:value={formData.tests.strength}\n                    min=\"-3\"\n                    max=\"3\"\n                />\n                <label for=\"toughness-test\">Toughness</label>\n                <input\n                    type=\"number\"\n                    id=\"toughness-test\"\n                    class=\"theme-black-input\"\n                    bind:value={formData.tests.toughness}\n                    min=\"-3\"\n                    max=\"3\"\n                />\n            </div>\n            <div>\n              <label for=\"melee\">Melee</label>\n              <input\n                  type=\"number\"\n                  id=\"melee\"\n                  class=\"theme-black-input\"\n                  bind:value={formData.tests.melee}\n                  min=\"-3\"\n                  max=\"3\"\n              />\n              <label for=\"ranged\">Ranged</label>\n              <input\n                  type=\"number\"\n                  id=\"ranged\"\n                  class=\"theme-black-input\"\n                  bind:value={formData.tests.ranged}\n                  min=\"-3\"\n                  max=\"3\"\n              />\n              <label for=\"defense\">Defense</label>\n              <input\n                  type=\"number\"\n                  id=\"defense\"\n                  class=\"theme-black-input\"\n                  bind:value={formData.tests.defense}\n                  min=\"-3\"\n                  max=\"3\"\n              />\n            </div>\n          </div>\n        </div>\n        <p class=\"calligraphy right-aligned\">{!!formData.name ? ownership(formData.name) : 'You'} mettle will be tested.</p>\n      </div>\n  \n      <div class=\"pod\">\n        <div>\n          <p><span class=\"calligraphy\">perhaps {!!formData.name ? `${formData.name} has` : 'you have'} a  <label class=\"bigger inline\" for=\"className\">profession</label> &hellip;</span>\n            <input\n              type=\"text\"\n              id='className'\n              class=\"theme-black-input\"\n              bind:value={formData.className}\n            />\n          </p>\n          <p class=\"text-right\"><span class=\"calligraphy\">&hellip;perhaps not</span>\n              <input\n                  type=\"number\"\n                  id=\"omens\"\n                  bind:value={formData.omens}\n                  class=\"theme-black-input\"\n                  min=\"0\"\n                  max=\"4\"\n              />\n              <label class=\"calligraphy smaller inline\" for=\"omens\">(Omens Die).</label>\n          </p>\n        </div>\n      </div>\n  \n      <div class=\"pad\">\n        <div>\n          <p class=\"calligraphy\">Scribe your epitaph&hellip;</p>\n          <textarea name=\"description\" id=\"description\" class=\"theme-black-input\" cols=\"30\" rows=\"10\" style=\"width:100%;\"></textarea>\n          <label class=\"hidden\" for=\"description\">Description</label>\n          <p class=\"calligraphy text-right\">&hellip;no one else will.</p>\n        </div>\n      </div>\n  \n      <div class=\"pad\">\n          <p class=\"calligraphy\">there is no saviour, but {formData.name || 'you'} may yet <button class=\"btn\" type=\"submit\">survive</button>.</p>\n      </div>\n  </form>\n</div>\n\n\n<style>\n    #new-character-form {\n        max-width: 800px;\n        margin: 0 auto;\n    }\n    .hidden {\n        position: absolute;\n        left: -100in;\n    }\n    .inline {\n        display: inline;\n    }\n    \n    /* typography */\n    .calligraphy {\n      font-family: var(--callig);\n      font-size: 2rem;\n      line-height: 1.5;\n    }\n\n    .bigger {\n        font-size: 2.5rem;\n    }\n\n    label.bigger {\n        color: magenta;\n    }\n\n\n    .smaller {\n        font-size: 1.5rem;\n    }\n\n    .text-right {\n        text-align: right;\n    }\n    \n    /* */\n    .pad {\n      padding: calc(var(--small-padding) * 2);\n    }\n    .pod {\n      box-sizing: border-box;\n      display: flex;\n      align-items: center;\n      justify-content: space-evenly;\n      padding: 0 calc(var(--small-padding) * 2);\n      margin: 5rem 0;\n    }\n    .pod:first-of-type {\n      padding-top: 5rem;\n      margin-top: 0;\n    }\n\n    .r { display: flex; }\n\n    .right-aligned {\n        padding-left: var(--small-padding);\n    }\n\n    .btn {\n      display: inline;\n      padding: 0 .25em;\n      border: 2px solid #000;\n      border-radius: 0;\n      margin: 0;\n      font-size: 2.5rem;\n      color: #000;\n      background: yellow;\n    }\n    .btn:focus {\n      outline: 1px solid yellow;\n    }\n</style>","<script>\n    import { rollString } from '../../lib';\n\n    export let diceString = \"\";\n    export let onRoll = (roll) => {};\n    export let disabled = false;\n\n    const handleClick = () => onRoll(rollString(diceString));\n</script>\n\n<button type=\"button\" class=\"roll-button\" on:click={handleClick} disabled={disabled}><slot>{diceString}</slot></button>\n\n<style>\n    .roll-button {\n        margin: 0;\n    }\n</style>","<script>\n    import character from '../../stores/Character';\n    import RollButton from '../Buttons/RollButton.svelte';\n    import { symbol, alertRoll } from '../../lib';\n\n    const SCORES = ['strength', 'agility', 'presence', 'toughness'];\n\n    const { tests, abilities } = $character\n</script>\n\n<div class=\"row row-padded r\">\n    {#each SCORES as score }\n    <div class=\"score-wrapper\">\n        <div class=\"score-name\">\n            {score}\n        </div>\n        <div class=\"score\">\n            {symbol(abilities[score])}\n        </div>\n        <RollButton\n            diceString=\"1d20\"\n            onRoll={alertRoll(tests[score], abilities[score])}\n        >\n            test {tests[score]}\n        </RollButton>\n        {#if score === \"strength\"}\n        <RollButton\n            diceString=\"1d20\"\n            onRoll={alertRoll(tests.melee, abilities[score])}\n        >\n            melee {tests.melee}\n        </RollButton>\n        {:else if score === \"agility\"}\n        <RollButton\n            diceString=\"1d20\"\n            onRoll={alertRoll(tests.defence, abilities[score])}\n        >\n            defense {tests.defence}\n        </RollButton>\n        {:else if score === \"presence\"}\n        <RollButton\n            diceString=\"1d20\"\n            onRoll={alertRoll(tests.ranged, abilities[score])}\n        >\n            ranged {tests.ranged}\n        </RollButton>\n        {/if}\n    </div>\n    {/each}\n</div>\n\n<style>\n    .r {\n        align-items: flex-start;\n    }\n    .score-wrapper {\n        display: flex;\n        flex-direction: column;\n        margin: 0.5em 0 0;\n        text-align: center;\n    }\n</style>\n","<script>\n    import { afterUpdate, onDestroy } from \"svelte\";\n    export let show = false;\n    export let onClose = () => {}\n\n    const handleKeydown = (e) => e.key === \"Escape\" ? onClose() : null;\n\n    afterUpdate(() => {\n        if (show) {\n            document.body.addEventListener('keydown', handleKeydown);\n        } else {\n            document.body.removeEventListener('keydown', handleKeydown);\n        }\n    })\n\n    onDestroy(() => document.body.removeEventListener('keydown', handleKeydown))\n</script>\n\n<div\n    class=\"modal\"\n    style:transform={show ? 'translate3d(0, 0, 0)' : ''}\n>\n    <button\n        type=\"button\"\n        class=\"close\"\n        on:click={onClose}\n    >\n        close\n    </button>\n    <div class=\"content\">\n        <slot></slot>\n    </div>\n</div>\n\n<style>\n    .modal {\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        background-color: rgba(0,0,0,.3);\n        transform: translate3d(100vw, 0, 0);\n        transition-duration: 300ms;\n        transition-timing-function: ease-in-out;\n    }\n    .close {\n        position: absolute;\n        top: 0.5em;\n        right: 0.5em;\n    }\n    .content {\n        box-sizing: border-box;\n        width: calc(100% - 2rem);\n        height: calc(100% - 2rem);\n        padding: 1.5rem;\n        margin: 1rem;\n        background-color: #fff;\n        box-shadow: 0.25em 0.25em 0.5em rgb(0 0 0 / 20%);\n    }\n</style>","<script>\n  import { always, compose, either, filter, head, identity, ifElse, isNil, prop, propEq, sortBy } from 'ramda';\n  import SlideIn from '../SlideIn.svelte';\n  import character, { subtractEquipment, addHealth } from '../../stores/Character';\nimport { rollString } from '../../lib';\n\n  export let show = false;\n  export let onClose = () => {};\n\n  // Helpers\n  const emptyQ = ifElse(isNil, always({quantity: 0}), identity);\n\n  const getWater = compose(\n    emptyQ,\n    head,\n    filter(propEq('name', 'Waterskin'))\n  );\n\n  const getFood = compose(\n    emptyQ,\n    head,\n    sortBy(prop('quantity')),\n    filter(either(propEq('name', 'Dried food'), propEq('name', 'Lard')))\n  );\n\n  // Handlers\n  const onRestClick = ({ _id }) => {\n    subtractEquipment(_id);\n    const heal = rollString('1d4');\n    alert(`Healing ${heal} points`)\n    addHealth(heal);\n    onClose()\n  }\n\n  const onSleepClick = ({ _id }) => {\n    subtractEquipment(_id);\n    const heal = rollString('1d6');\n    alert(`Healing ${heal} points`)\n    addHealth(heal);\n    onClose()\n  }\n\n\n  $: isInfected = !!$character.infected;\n  $: water = getWater($character.equipment);\n  $: food = getFood($character.equipment);\n</script>\n\n<SlideIn show={show} onClose={onClose}>\n  <div class:s={isInfected || water.quantity === 0}>\n    <p>\n      Catch your breath, \n      <button\n        type=\"button\"\n        class=\"mb0\"\n        disabled={isInfected || water.quantity === 0}\n        on:click={onRestClick(water)}\n      >\n        have a drink\n      </button>. Restore d4 HP.\n    </p>\n  </div>\n  <div class:s={isInfected || food.quantity === 0}>\n    <p>\n      A\n      <button\n        type=\"button\"\n        class=\"mb0\"\n        disabled={isInfected || food.quantity === 0}\n        on:click={onSleepClick(food)}\n      >\n        full night’s sleep\n      </button>\n       restores d6 HP.\n      </p>\n  </div>\n  <button type=\"button\" on:click={onClose}>Cancel</button>\n</SlideIn>\n\n<style>\n    .s {\n        text-decoration: line-through;\n    }\n</style>","<script>\n    import SlideIn from './SlideIn.svelte';\n    import character, { decrementOmens } from '../stores/Character'\n\n    export let show = false;\n    export let onClose = () => {}\n\n    const handleUse = () => {\n        decrementOmens();\n        onClose();\n    }\n</script>\n\n<SlideIn show={show} onClose={onClose}>\n    <div>\n        Omens: ({$character?.omens?.die }/day); current ({$character?.omens?.current || 0})\n        <p>Use omens to</p>\n        <ul>\n            <li>deal maximum damage with one attack</li>\n            <li>reroll, your dice or someone else's</li>\n            <li>lower damage dealt to you by 1d6</li>\n            <li>neutralize a crit or a fumble</li>\n            <li>lower one test by DR -4</li>\n        </ul>\n        <button type=\"button\" on:click={handleUse}>Use</button>\n        <button type=\"button\" on:click={onClose}>Cancel</button>\n    </div>\n</SlideIn>","<script>\n    import SlideIn from './SlideIn.svelte';\n    import character, { decrementPowers, incrementPowers } from '../stores/Character'\n    import RollButton from './Buttons/RollButton.svelte';\n\n    export let show = false;\n    export let onClose = () => {};\n\n    const scrolls = $character.equipment.filter((eq) => eq.type === 'scroll');\n</script>\n\n<SlideIn show={show} onClose={onClose}>\n    <div>\n        <p>Powers: (1d4/day); current ({$character?.powers || 0})</p>\n        <p>Presence Test DR12. Success, the power is activated. Failure, take d2 points of damage and you are dizzy for the next hour. Powers can not be used during this time.</p>\n        <p>Available Powers {scrolls.length === 0 ? ': none' : ':'}</p>\n        {#if scrolls.length > 0}\n            <ul>\n                {#each scrolls as scroll}\n                    <li><b>{scroll.name}</b> {scroll.description}</li>\n                {/each}\n            </ul>\n        {/if}\n        <button>Roll Prsence test, if successful onlock scrolls and enable thir effects, oin fail closse and take damage.</button>\n        <!-- <button type=\"button\" on:click={handleUse}>Use</button> -->\n        <button type=\"button\" on:click={onClose}>Cancel</button>\n    </div>\n</SlideIn>","<script>\n    import { always, compose, filter, head, identity, ifElse, isEmpty, isNil} from 'ramda';\n\timport character, { setArmorTier } from '../stores/Character';\n    import { roll } from '../lib'\n\n    const isWornArmor = (equipment) => equipment.type === 'armor' && equipment.equipped;\n    const getWornArmor = compose(ifElse(isNil, always({}), identity), head, filter(isWornArmor));\n\n    let toggle = true;\n    $: armorWorn = getWornArmor($character.equipment);\n    $: hasArmor = !isEmpty(armorWorn);\n\n    // Handlers\n    const handleToggle = () => toggle = !toggle;\n    // does this need to be reactive? Would I get stale state for armor worn?, armor is\n    // stale but it doesn't matter in this case\n    const handleTierClick = (tier) => () => setArmorTier(armorWorn._id, tier);\n</script>\n\n\n<div class=\"row-padded r\">\n    <div>\n        <b>Armor:</b> {hasArmor ? armorWorn.name : 'None'}\n    </div>\n    <div>\n        {#if hasArmor}\n            <button\n                type=\"button\"\n                on:click={handleToggle}\n                class=\"button-tier\"\n                title={`Show ${ toggle ? 'Tiers' : 'Rolls' }`}\n            >\n                <img src=\"/images/switch_sm.png\" alt=\"\" />\n            </button>\n            {#if toggle}\n                <button\n                    type=\"button\"\n                    on:click={() => alert(roll(2))}\n                    class={armorWorn.currentTier === 1 ? 'current button-tier' : 'button-tier'}\n                    title=\"-d2\" \n                    disabled={armorWorn.currentTier !== 1}\n                >\n                    -d2\n                </button>\n                <button\n                    type=\"button\"\n                    on:click={() => alert(roll(4))}\n                    class={armorWorn.currentTier === 2 ? 'current button-tier' : 'button-tier'}\n                    title=\"-d4\" \n                    disabled={armorWorn.currentTier !== 2}\n                >\n                    -d4\n                </button>\n                <button\n                    type=\"button\"\n                    on:click={() => alert(roll(6))}\n                    class={armorWorn.currentTier === 3 ? 'current button-tier' : 'button-tier'}\n                    title=\"-d6\" \n                    disabled={armorWorn.currentTier !== 3}\n                >\n                    -d6\n                </button>\n            {:else}\n                <button\n                    type=\"button\"\n                    on:click={handleTierClick(1)}\n                    class={armorWorn.currentTier === 1 ? 'current button-tier' : 'button-tier'}\n                    title=\"Tier 1, -d2\"\n                >\n                    1\n                </button>\n                <button\n                    type=\"button\"\n                    on:click={handleTierClick(2)}\n                    class={armorWorn.currentTier === 2 ? 'current button-tier' : 'button-tier'}\n                    title=\"Tier 2, -d4\"\n                >\n                    2\n                </button>\n                <button\n                    type=\"button\"\n                    on:click={handleTierClick(3)}\n                    class={armorWorn.currentTier === 3 ? 'current button-tier' : 'button-tier'}\n                    title=\"Tier 3, -d6\"\n                >\n                    3\n                </button>\n            {/if}\n        {/if}\n    </div>\n</div>    \n\n<style>\n    .r {\n        justify-content: space-between;\n        align-items: center;\n    }\n    .r > div { flex-basis: auto;}\n\n    .current { background-color: yellow; }\n    button:disabled { background-color: gray; }\n\n    .button-tier {\n        width: 30px;\n        height: 30px;\n        padding: 3px;\n        border-radius: 50%;\n        font-size: .75em;\n    }\n    .button-tier > img {\n        position: relative;\n        top: 1px;\n        width: 100%;\n    }\n</style>\n","<script>\n    import { filter, partial, propSatisfies } from 'ramda';\n    import character, { breakWeapon } from '../stores/Character';\n    import RollButton from './Buttons/RollButton.svelte';\n    import { alertRoll, roll, rollString, symbol } from '../lib';\n\n    const { strength, presence } = $character.abilities;\n    const { melee, ranged } = $character.tests;\n\n    const COMBAT_MAP = {\n        melee: {\n            bonus: strength,\n            roll: alertRoll(melee, strength)\n        },\n        ranged: {\n            bonus: presence,\n            roll: alertRoll(ranged, presence)\n        }\n    };\n\n    const isWeapon = propSatisfies((x) => x === 'weapon', 'type');\n    const isUnbroken = propSatisfies((x) => x === false || x === undefined, 'broken');\n    const isEquipped = propSatisfies((x) => x === true, 'equipped');\n    const isUnbrokenWeapon = (weapon) => isWeapon(weapon) && isEquipped(weapon) && isUnbroken(weapon);\n    const getWeapons = filter(isUnbrokenWeapon);\n\n    const rol = (die) => typeof die === 'string' ? rollString(die) : roll(die)\n\n    $: weapons = getWeapons($character.equipment)\n</script>\n\n<table>\n    <thead>\n        <tr>\n            <th>Weapon</th>\n            <th></th>\n            <th>To Hit</th>\n            <th>Damage</th>\n        </tr>\n    </thead>\n    <tbody>\n    {#each weapons as weapon }\n        {@const damageType = typeof weapon.damageDie}\n        {@const attackType = COMBAT_MAP[weapon.weaponType]}\n        <tr>\n            <td>{weapon.description}</td>\n            <td>\n                <button\n                    type=\"button\"\n                    on:click={partial(breakWeapon, [weapon._id])}\n                >\n                    Break\n                </button>\n            </td>\n            <td>\n                <RollButton\n                    diceString=\"1d20\"\n                    onRoll={attackType.roll}\n                >\n                    {symbol(attackType.bonus)}\n                </RollButton>\n            </td>\n            <td>\n                <button\n                    type=\"button\"\n                    on:click={()=> alert(rol(weapon.damageDie))}\n                    title=\"Damage\"\n                >\n                    {damageType === 'string' ? weapon.damageDie : `d${weapon.damageDie}`}\n                </button>\n            </td>\n        </tr>\n    {/each}\n    </tbody>\n</table>\n","<script>\n  import { partial } from 'ramda';\n  import { equip } from '../../stores/Character';\n\n  export let item = {}\n</script>\n\n<div class=\"r\">\n  <div >\n    {item.description}\n  </div>\n  <button\n    class=\"mb0\"\n    type=\"button\"\n    on:click={partial(equip, [item._id])}\n    disabled={item.broken}\n  >\n    {item.equipped ? 'Remove' : 'Equip'}\n  </button>\n</div>\n\n<style>\n  .r {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-grow: 1;\n  }\n</style>","<script>\n    export let item = {};\n</script>\n\n<div class=\"r\">\n  <div>\n    {item.description}\n  </div>\n</div>\n\n<style>\n  .r {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-grow: 1;\n  }\n  .desc {\n    margin: 0;\n    font-size: .875em;\n    font-style: oblique;\n    font-weight: 500;\n  }\n</style>","<script>\n    import { partial } from 'ramda';\n    import { subtractEquipment, addEquipment } from '../../stores/Character';\n\n    export let item = {};\n</script>\n\n<div class=\"r\">\n  <div>\n    {item.description.replace('#', item.quantity)}\n  </div>\n  <div>\n    <button\n      class=\"mb0\"\n      type=\"button\"\n      disabled={item.weight * item.quantity === 100}\n      on:click={partial(addEquipment, [item._id])}\n    >\n      +\n    </button>\n    <button\n      class=\"mb0\"\n      type=\"button\"\n      on:click={partial(subtractEquipment, [item._id])}\n    >\n      -\n    </button>\n\n  </div>\n</div>\n\n<style>\n.r {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n</style>","<script>\n    import { equals, find, partial, propSatisfies } from 'ramda';\n    import Equipable from './EquipmentTypes/Equipable.svelte';\n    import Equipment from './EquipmentTypes/Equipment.svelte';\n    import Countable from './EquipmentTypes/Countable.svelte';\n\timport character, { dropEquipment } from '../stores/Character';\n\n    const isEquippable = propSatisfies((x) => !!find(equals(x), ['armor', 'weapon']), 'type');\n    const isCountable = propSatisfies((x) => x > 1, 'quantity');\n\n    /**\n     * because JS is bad at floating point math we're going to use 100 to represent a \"full size item\"\n     * partial sized items will have 100 / number to fill one slot. \n     * Ex: Arrows will have a weight 5 fitting 20 into a single slot\n     */\n    const encumbranceNumber = 8 + $character.abilities.strength;\n    const maxEquipmentRows = encumbranceNumber * 2;\n    const calculatedEncumbrance = encumbranceNumber * 100;\n\n    $: equipmentWeight = $character.equipment.reduce((acc, eq) => acc + (!!eq.equipped === false ? eq.weight * eq.quantity : 0) , 0)\n    $: isEncumbered = calculatedEncumbrance <= equipmentWeight;\n    $: console.log(20, equipmentWeight, isEncumbered)\n</script>\n\n<div class=\"equipment\" class:encumbered={isEncumbered}>\n    <div class=\"row r\">\n        <h2 class=\"title\">Equipment</h2>\n        <p class=\"text\">Strength + 8 ({encumbranceNumber}) items or DR+2 on Agility/Strength tests</p>\n    </div>\n\n    <ul class=\"list-clear list\">\n        {#each $character.equipment as e, i (e._id)}\n            <li class=\"list-item\">\n                {#if isEquippable(e)}\n                    <Equipable item={e} />\n                {:else if isCountable(e)}\n                    <Countable item={e} />\n                {:else}\n                    <Equipment item={e} />\n                {/if}\n                <!-- TODO: Skull Icon -->\n                <button type=\"button\" class=\"mb0\" on:click={partial(dropEquipment, [i])}>Delete</button>\n            </li>\n        {/each}\n    </ul>\n</div>\n\n<style>\n    .equipment {\n        padding: var(--small-padding);\n    }\n\n    .r {\n        padding-bottom: var(--small-padding);\n    }\n    .title {\n        margin: 0;\n        font-family: var(--serif);\n        font-size: 2em;\n    }\n    \n    .text {\n        padding: var(--small-padding);\n        margin: 0;\n        font-size: .875em;\n        line-height: 1;\n    }\n\n    .encumbered {\n        background-color: rgba(255,0,0, .2)\n    }\n    .list {\n        display: flex;\n        flex-direction: column;\n        /* flex-wrap: wrap; */\n    }\n    .list-item {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: .5em;\n        /* flex-basis: 50%; */\n    }\n</style>\n","<script>\n    export let title = ''\n    export let value = 0;\n    export let maxValue = -1;\n    export let increment = () => {}\n    export let decrement = () => {}\n    export let set = () => {}\n\n    let showInput = false;\n    let val = null\n\n    const handleInput = () => !!set ? showInput = true : null;\n\n    const handleSubmit = () => {\n        set(val);\n        val = null;\n        showInput = false;\n    }\n</script>\n\n<div class=\"hit-points row\">\n    <div>\n        <div class=\"score-name\">\n            {@html title}\n            <!-- <abbr title=\"Hit Points\">HP</abbr> -->\n        </div>\n        <div\n            class=\"score\"\n            on:click={handleInput}\n        >\n        {#if showInput }\n            <form action=\"\" on:submit|preventDefault={handleSubmit}>\n                <input type=\"number\" bind:value={val} />\n                <button type=\"submit\">Submit</button>\n            </form>\n        {:else}\n            {value}\n            {#if maxValue > -1}\n                /{maxValue}\n            {/if}\n        {/if}\n        </div>\n    </div>\n    <div class=\"col\">\n        {#if !showInput }\n        <button\n            type=\"button\"\n            class=\"btn\"\n            on:click={increment}\n            title=\"Increase by 1\"\n        >+\n        </button>\n        <button\n            type=\"button\"\n            class=\"btn\"\n            on:click={decrement}\n            title=\"Reduce by 1P\"\n        >-\n        </button>\n        {/if}\n    </div>\n</div>\n\n<style>\n.hit-points {\n    text-align: center;\n}\n.btn {\n  margin: 0 0 0 0.25em;\n  padding: 0.25em 0.5em;\n  border: none;\n  border-radius: 0;\n  font-weight: 700;\n  /* color: #fff;\n  background: linear-gradient(0deg, #444, #000) */\n}    \n</style>\n","<script>\n    import character, { incrementHp, decrementHp } from '../stores/Character'\n    import Incrementer from './CharacterSheet/Incrementer.svelte';\n</script>\n\n<Incrementer\n  title='<abbr title=\"Hit Points\">HP</abbr>'\n  value={$character.hitpoints.current}\n  maxValue={$character.hitpoints.maximum}\n  increment={incrementHp}\n  decrement={decrementHp}\n  set={false}\n/>\n","<script>\n  export let onClose = () => {};\n  export let result;\n  export let message = {\n    roll: 0,\n    scoreName: 'Strength',\n    score: 0\n  };\n\n  const handleEsc = (e) => e.key === \"Escape\" ? onClose() : null;\n</script>\n\n<svelte:window on:keyup={handleEsc} />\n{#if result !== null}\n    <div class=\"overlay\" on:click={onClose}>\n        <button type=\"button\" class=\"close\" on:click={onClose}>&times;</button>\n        <div class=\"die\"></div>\n        <div class=\"roll\">\n            {result}\n        </div>\n        <div class=\"formula\">\n            {message.formula} ({message.roll}) + {message.scoreName} ({message.score})\n        </div>\n    </div>\n{/if}\n<slot></slot>\n\n<style>\n.overlay {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0,0,0,.3);\n}\n\n.die {\n  position: fixed;\n  top: calc(50vh - 50px);\n  left: calc(50vw - 50px);\n  width: 100px;\n  height: 100px;\n  background-color: yellow;\n  animation: spin 0.4s ease-out;\n  box-shadow: 5px 5px 10px rgb(0 0 0 / 15%);\n}\n\n.roll {\n  position: relative;\n  z-index: 2;\n  font-size: 4rem;\n  color: #000;\n}\n\n.close {\n  position: fixed;\n  top: calc(50vh - 75px);\n  left: calc(50vw + 50px);\n  box-sizing: border-box;\n  width: 2rem;\n  height: 2rem;\n  border: none;\n  border-radius: 50%;\n  color: #000;\n  font-weight: 700;\n  background-color: yellow;\n}\n\n.formula {\n  position: fixed;\n  top: calc(50vh + 60px);\n  padding: 0.25em 0.75em;\n  border-radius: 1em;\n  font-size: .875em;\n  font-style: italic;\n  color: #000;\n  background-color: yellow;\n  box-shadow: 5px 5px 10px rgb(0 0 0 / 15%);\n}\n\n@keyframes spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n</style>\n","<script>\n  import Die from './Die.svelte';\n  import character from '../stores/Character'\n  import { rollFormula } from '../lib'\n\n  const { abilities } = $character;\n\n  let result = null;\n  let roll = 1;\n\n  // Handlers\n  const handleRoll = () => {\n      roll = rollFormula([1, 'd', 6]);\n      result = roll + abilities.agility;\n      $character.initiative = result;\n  }\n</script>\n\n<Die\n  onClose={() => result = null}\n  result={result}\n  message={{\n    formula: '1d6',\n    scoreName: 'Agility',\n    score: abilities.agility,\n    roll\n  }}\n>\n    <div class=\"initiative row\" on:click={handleRoll}>\n        <div>\n            <div class=\"score-name\">\n                <abbr title=\"Initiative\">Init</abbr>\n            </div>\n            <div\n                class=\"score\"\n            >\n            {$character.initiative || 0}\n            </div>\n        </div>\n    </div>\n</Die>\n\n<style>\n.initiative {\n    text-align: center;\n    padding: var(--small-padding);\n}\n</style>\n","<script>\n    import character from '../../stores/Character'\n    import HitPoints from '../HitPoints.svelte';\n    import Initiaitve from '../Initiaitve.svelte';\n</script>\n\n<div id=\"character-header\" class=\"theme-black\">\n    <!-- <img src={$character.img} alt={$character.name} width=\"55\" height=\"55\" /> -->\n    <header>\n        <h1 class=\"h1\">{$character.name}</h1>\n        <h2 class=\"h2\">{$character.className}</h2>\n    </header>\n    <div class=\"hp-wrapper\">\n        <Initiaitve />\n        <HitPoints />\n    </div>\n</div>\n\n<style>\n#character-header {\n    display: flex;\n    align-items: center;\n    padding: var(--small-padding);\n}\n\n.hp-wrapper {\n    display: flex;\n    justify-content: right;\n    flex-grow: 1;\n}\n\n.h1 {\n    width: 150px;\n    margin: 0;\n    font-family: var(--serif);\n    font-size: 1.5rem;\n    line-height: .8;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.h2 {\n    margin: 0;\n    font-family: var(--serif);\n    font-size: .875rem;\n    line-height: 1;\n}\n</style>","<script>\n    import { isEmpty, partial } from 'ramda';\n\timport character, { setSilver } from '../../stores/Character';\n    import Scores from './Scores.svelte';\n    import Defense from '../Defense.svelte';\n    import Rest from './Rest.svelte';\n    import Miseries from './Miseries.svelte';\n    import Omens from '../Omens.svelte';\n    import Powers from '../Powers.svelte';\n    import ArmorWorn from '../ArmorWorn.svelte';\n    import WeaponsCarried from '../WeaponsCarried.svelte';\n    import Equipment from '../Equipment.svelte';\n    import Header from './Header.svelte';\n    import { roll } from '../../lib';\n    import SlideIn from '../SlideIn.svelte';\n    import Incrementer from './Incrementer.svelte';\n\n    let showOmens = false;\n    let showPowers = false;\n    let showRest = false;\n</script>\n\n{#if !isEmpty($character)}\n<article>\n    <!-- <Miseries /> -->\n    <Header />\n    <Scores />\n\n    <div class=\"row row-padded\">\n        <div>\n            <button\n                type=\"button\"\n                class=\"b\"\n                disabled={$character?.omens?.current === 0}\n                on:click={() => showOmens = true}\n            >\n                Omens ({$character?.omens?.current})\n            </button>\n        </div>\n        <div>\n            <button\n                type=\"button\"\n                class=\"b\"\n                disabled={$character?.powers === 0}\n                on:click={() => showPowers = true}\n            >\n                Powers ({$character?.powers || 0})\n            </button>\n        </div>\n        <div>\n            <button\n                type=\"button\"\n                class=\"b\"\n                on:click={() => showRest = true}\n            >\n                Rest\n            </button>\n        </div>\n        <div>\n            <button type=\"button\" disabled class=\"b\">Get Better</button>\n        </div>\n    </div>\n\n    <ArmorWorn />\n    <WeaponsCarried />\n    <Equipment />\n    <Incrementer\n        title=\"Silver\"\n        value={$character.silver}\n        increment={partial(setSilver, [1])}\n        decrement={partial(setSilver, [-1])}\n        set={(num) => setSilver(num)}\n    />\n\n    <Omens show={showOmens} onClose={() => showOmens = false} />\n    <Powers show={showPowers} onClose={() => showPowers = false } />\n    <Rest show={showRest} onClose={() => showRest = false } />\n    \n</article>\n{/if}\n\n<style>\n    .b {\n        width: 100%;\n    }\n</style>","import { setMenuState } from \"../stores/Settings\";\n\nexport const openMenu = () => {\n  document.body.style.overflow = \"hidden\";\n  setMenuState(true);\n};\n\nexport const closeMenu = () => {\n  document.body.style.overflow = \"auto\";\n  setMenuState(false);\n};\n","<script>\n    import { partial } from 'ramda';\n    import characters, { deleteCharacter } from '../stores/Characters';\n    import { setSelected } from '../stores/Character';\n    import settings, { setNewCharacter } from '../stores/Settings';\n    import { closeMenu } from '../lib/dom'\n\n    $: characterArray = $characters.map((characterId) => {\n        // This can break when, if this list and the items in storage fall out of sync\n        const { id, name} = JSON.parse(localStorage.getItem(`character:${characterId}`) || '{}');\n\n        return { id, name };\n    });\n\n    // Handlers \n    const onDeleteCharacter = (id, name) => confirm(`Delete ${name}?`) ? deleteCharacter(id) : null;\n\n    // \n    const handleButtonClick = (id) => () => {\n        setSelected(id);\n    }\n</script>\n\n<aside id=\"sidebar\" class:active={$settings.menuOpen}>\n    <button type=\"button\" class=\"sidebar-button\" title=\"Close Menu\" on:click={closeMenu}>X</button>\n    <ul class=\"list-clear\">\n        {#each characterArray as {id, name} }\n            <li key={id}>\n                <button\n                    type=\"button\"\n                    class={id === $settings.selectedCharacterId ? 'sidebar-button active' : 'sidebar-button'}\n                    on:click={handleButtonClick(id)}\n                    on:contextmenu|preventDefault={partial(onDeleteCharacter, [id])}>\n                    {name}\n                </button>\n            </li>\n        {/each}\n    </ul>\n    <button type=\"button\" class=\"sidebar-button\" class:active={$settings.newCharacter} on:click={setNewCharacter}>Add New</button>\n</aside>\n","<script>\n    import { setNewCharacter } from '../stores/Settings';\n</script>\n\n<div id=\"welcome\">\n    <p>A browser based character sheet for<wbr> MÖRK BORG.</p>\n    <p><button type=\"button\" class=\"theme-white-button\" on:click={setNewCharacter}>Get Started</button></p>\n    <img src=\"images/CompWith_MORKBORG_vert.svg\" alt=\"Compatible with MÖRK BORG\" />\n</div>\n\n<style>\n#welcome {\n    max-width: 400px;\n    padding: var(--small-padding);\n    margin: 0 auto;\n    text-align: center;\n}\n</style>","<script>\n\timport { isNil } from 'ramda';\n\timport settings from './stores/Settings'\n\timport CreateCharacter from './components/NewCharacter/CreateCharacter.svelte';\n\timport CharacterSheet from './components/CharacterSheet/CharacterSheet.svelte';\n\timport Sidebar from './components/Sidebar.svelte';\n\timport Welcome from './components/Welcome.svelte';\n\timport { openMenu } from './lib/dom'\n</script>\n\n<header id=\"global-header\" class=\"theme-magenta row row-polar\">\n\t<h1>SCVUMGRINDER</h1>\n\t<button type=\"button\" id=\"sidebar-button\" title=\"Open Menu\" on:click={openMenu}>\n        <div></div>\n        <div></div>\n        <div></div>\n    </button>\n</header>\n\n<main id=\"app\">\n\t<div id=\"stage\">\n\t\t{#if $settings.newCharacter}\n\t\t\t<CreateCharacter />\n\t\t{:else if !isNil($settings.selectedCharacterId)}\n\t\t\t<CharacterSheet />\n\t\t{:else}\n\t\t\t<Welcome />\n\t\t{/if}\n\t</div>\n\t<Sidebar />\n</main>\n\n<footer id=\"global-footer\" class=\"theme-black\">\n\t<p>Scvmgrinder is an independent production by James Krayer and is not affiliated with Ockult Örtmästare Games or Stockholm Kartell. It is published under the MÖRK BORG Third Party License.</p>\n\t<p>MÖRK BORG is copyright Ockult Örtmästare Games and Stockholm Kartell.</p>\n\t<p><a href=\"https://github.com/jkrayer/scvmgrinder\">GitHub</a> |  <a href=\"https://morkborg.com/\">MÖRK BORG</a></p>\n</footer>\n","import App from './App.svelte';\n\nvar app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","src_url_equal","element_src","url","document","createElement","href","component_subscribe","component","store","callback","$$","on_destroy","push","callbacks","unsub","subscribe","unsubscribe","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","null_to_empty","value","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","select_option","select","option","__value","selected","selectedIndex","select_value","selected_option","querySelector","toggle_class","toggle","classList","set_current_component","get_current_component","Error","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","update","pop","has","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","outro_and_destroy_block","lookup","create_component","mount_component","customElement","on_mount","m","new_on_destroy","map","filter","destroy_component","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","$on","type","index","indexOf","splice","$set","$$props","obj","$$set","keys","_isPlaceholder","_curry1","f1","arguments","apply","_curry2","f2","_b","_a","_concat","set1","set2","idx","len1","len2","result","_arity","n","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","_curryN","received","combined","argsIdx","left","combinedIdx","curryN","_curry3","f3","_c","isArray","val","prototype","toString","_isTransformer","_dispatchable","methodNames","transducerCreator","_isArray","transducer","xf","_isString","x","_isArrayLike","hasOwnProperty","XWrap","f","acc","bind","thisObj","_iterableReduce","iter","step","next","done","_methodReduce","methodName","symIterator","Symbol","iterator","_reduce","list","_xwrap","_arrayReduce","reduce","TypeError","XMap","_xfBase","_xmap","_has","prop","_isArguments","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","hasArgsEnumBug","contains","item","nIdx","ks","checkArgsLength","functor","_map","Number","isInteger","nth","offset","charAt","_isInteger","ap","applyF","applyX","liftN","arity","lifted","lift","min","_pipe","g","_checkForMethod","methodname","fromIndex","toIndex","Infinity","pipe","tail","split","reverse","join","compose","_identity","_arrayFromIterator","_includesWith","pred","is","_uniqContentEquals","aIterator","bIterator","stackA","stackB","eq","_equals","aItem","_objectIs","match","typeA","equals","constructor","String","valueOf","message","source","global","ignoreCase","multiline","sticky","unicode","size","entries","concat","values","keysA","extendedStackA","extendedStackB","_isObject","XFilter","filterable","_filter","or","either","_isFunction","_isTypedArray","XFind","found","ifElse","condition","onTrue","onFalse","_createPartialApplicator","args","sort","aa","bb","subscriber_queue","writable","start","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","STORAGE_KEY","settings","selectedCharacterId","newCharacter","menuOpen","JSON","parse","localStorage","getItem","console","log","setItem","stringify","setSelectedCharacterId","id","oldSettings","setNewCharacter","setMenuState","oldState","quantity","weaponType","damageDie","armorType","ammoType","ammoCount","description","onRemove","character","setSelected","toggleEquip","itemId","_id","equipped","equip","currentCharacter","equipment","breakWeapon","broken","incrementHp","current","maximum","hitpoints","addHealth","hp","clamp","decrementHp","dropEquipment","subtractEquipment","updatedEquipment","nextQ","addEquipment","weight","setSilver","num","silver","nextSilver","characters","symbol","score","roll","floor","random","rollFormula","number","die","operation","modifier","toInt","str","parseInt","isNaN","parseRollString","rs","dieIndex","modIndex","search","modNext","rollString","alertRoll","dr","total","alert","Date","now","formatEquipment","usesAmmo","light","currentTier","maxTier","medium","heavy","food","abilities","agility","presence","strength","toughness","tests","melee","ranged","defense","className","omens","formData","string","endsWith","ids","addCharacter","powers","formatCharacterData","__dirname","ind","diceString","onRoll","disabled","defence","$character","show","onClose","handleKeydown","e","body","onDestroy","emptyQ","isNil","always","identity","getWater","head","propEq","getFood","sortBy","isInfected","infected","water","heal","scrolls","getWornArmor","armorWorn","hasArmor","isEmpty","tier","setArmorTier","child_ctx","bonus","partial","COMBAT_MAP","isWeapon","propSatisfies","isUnbroken","isEquipped","getWeapons","weapon","rol","weapons","replace","old_blocks","get_key","dynamic","destroy","create_each_block","get_context","old_indexes","new_blocks","new_lookup","deltas","get","abs","will_move","did_move","first","new_block","old_block","new_key","old_key","isEquippable","find","isCountable","encumbranceNumber","calculatedEncumbrance","equipmentWeight","isEncumbered","title","maxValue","increment","decrement","showInput","formula","scoreName","initiative","showOmens","showPowers","showRest","openMenu","overflow","closeMenu","characterArray","$characters","characterId","confirm","deleteId","removeItem"],"mappings":"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"}